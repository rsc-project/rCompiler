(()=>{var __webpack_modules__={987:e=>{!function(){"use strict";var t=[],r=3988292384;function n(e){for(var t,n,s=-1,i=0,o=e.length;i<o;i+=1){for(n=255&(s^e[i]),t=0;t<8;t+=1)1&~n?n>>>=1:n=n>>>1^r;s=s>>>8^n}return~s}function s(e,r){var n,i,o;if(void 0!==s.crc&&r&&e||(s.crc=-1,e)){for(n=s.crc,i=0,o=e.length;i<o;i+=1)n=n>>>8^t[255&(n^e[i])];return~(s.crc=n)}}for(var i,o,a=0;a<256;a+=1){for(i=a,o=0;o<8;o+=1)1&i?i=r^i>>>1:i>>>=1;t[a]=i>>>0}e.exports=function(e,t){return((t?n:s)(e="string"==typeof e?Array.prototype.map.call(e,(function(e){return e.charCodeAt(0)})):e)>>>0).toString(16)},e.exports.direct=n,e.exports.table=s}()},710:(e,t,r)=>{e.exports=function e(t,r,n){function s(o,a){if(!r[o]){if(!t[o]){if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}l=r[o]={exports:{}},t[o][0].call(l.exports,(function(e){return s(t[o][1][e]||e)}),l,l.exports,e,t,r,n)}return r[o].exports}for(var i=void 0,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,r){"use strict";var n=e("./utils"),s=e("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,s,o,a,l,c=[],u=0,h=e.length,f="string"!==n.getTypeOf(e);u<e.length;)l=h-u,s=f?(t=e[u++],r=u<h?e[u++]:0,u<h?e[u++]:0):(t=e.charCodeAt(u++),r=u<h?e.charCodeAt(u++):0,u<h?e.charCodeAt(u++):0),o=(3&t)<<4|r>>4,a=1<l?(15&r)<<2|s>>6:64,l=2<l?63&s:64,c.push(i.charAt(t>>2)+i.charAt(o)+i.charAt(a)+i.charAt(l));return c.join("")},r.decode=function(e){var t,r,n,o,a,l=0,c=0;if("data:"===e.substr(0,5))throw new Error("Invalid base64 input, it looks like a data url.");var u,h=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===i.charAt(64)&&h--,e.charAt(e.length-2)===i.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=new(s.uint8array?Uint8Array:Array)(0|h);l<e.length;)t=i.indexOf(e.charAt(l++))<<2|(o=i.indexOf(e.charAt(l++)))>>4,r=(15&o)<<4|(o=i.indexOf(e.charAt(l++)))>>2,n=(3&o)<<6|(a=i.indexOf(e.charAt(l++))),u[c++]=t,64!==o&&(u[c++]=r),64!==a&&(u[c++]=n);return u}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var n=e("./external"),s=e("./stream/DataWorker"),i=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function a(e,t,r,n,s){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=s}a.prototype={getContentWorker:function(){var e=new s(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new s(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,r){return e.pipe(new i).pipe(new o("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var n=e("./utils"),s=function(){for(var e=[],t=0;t<256;t++){for(var r=t,n=0;n<8;n++)r=1&r?3988292384^r>>>1:r>>>1;e[t]=r}return e}();t.exports=function(e,t){return void 0!==e&&e.length?("string"!==n.getTypeOf(e)?function(e,t,r){var n=s,i=0+r;e^=-1;for(var o=0;o<i;o++)e=e>>>8^n[255&(e^t[o])];return~e}:function(e,t,r){var n=s,i=0+r;e^=-1;for(var o=0;o<i;o++)e=e>>>8^n[255&(e^t.charCodeAt(o))];return~e})(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";e="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:e}},{lie:37}],7:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,s=e("pako"),i=e("./utils"),o=e("./stream/GenericWorker"),a=n?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",i.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(i.transformTo(a,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new l("Deflate",e)},r.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function n(e,t){for(var r="",n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function s(e,t,r,s,o,u){var h=e.file,f=e.compression,p=u!==a.utf8encode,d=i.transformTo("string",u(h.name)),_=i.transformTo("string",a.utf8encode(h.name)),m=h.comment,g=(u=i.transformTo("string",u(m)),i.transformTo("string",a.utf8encode(m))),b=_.length!==h.name.length,v=(m=g.length!==m.length,""),w=h.dir,y=h.date,k={crc32:0,compressedSize:0,uncompressedSize:0};return t&&!r||(k.crc32=e.crc32,k.compressedSize=e.compressedSize,k.uncompressedSize=e.uncompressedSize),r=0,t&&(r|=8),p||!b&&!m||(r|=2048),e=0,t=0,w&&(e|=16),"UNIX"===o?(t=798,e|=(65535&((p=h.unixPermissions)?p:w?16893:33204))<<16):(t=20,e|=63&(h.dosPermissions||0)),o=y.getUTCHours(),o=(o=((o<<=6)|y.getUTCMinutes())<<5)|y.getUTCSeconds()/2,p=y.getUTCFullYear()-1980,p=(p=((p<<=4)|y.getUTCMonth()+1)<<5)|y.getUTCDate(),b&&(w=n(1,1)+n(l(d),4)+_,v+="up"+n(w.length,2)+w),m&&(h=n(1,1)+n(l(u),4)+g,v+="uc"+n(h.length,2)+h),y="",y=(y=(y=(y=(y=(y=(y=(y=(y=(y+="\n\0")+n(r,2))+f.magic)+n(o,2))+n(p,2))+n(k.crc32,4))+n(k.compressedSize,4))+n(k.uncompressedSize,4))+n(d.length,2))+n(v.length,2),{fileRecord:c.LOCAL_FILE_HEADER+y+d+v,dirRecord:c.CENTRAL_FILE_HEADER+n(t,2)+y+n(u.length,2)+"\0\0\0\0"+n(e,4)+n(s,4)+d+v+u}}var i=e("../utils"),o=e("../stream/GenericWorker"),a=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,r,n){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(u,o),u.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;t?(e=s(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName),this.push({data:e.fileRecord,meta:{percent:0}})):this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=s(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:(t=e,c.DATA_DESCRIPTOR+n(t.crc32,4)+n(t.compressedSize,4)+n(t.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e;r=function(e,t,r,s,o){return o=i.transformTo("string",o(s)),c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(r,4)+n(o.length,2)+o}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName),this.push({data:r,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},u.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var n=e("../compressions"),s=e("./ZipFileWorker");r.generateWorker=function(e,t,r){var i=new s(t.streamFiles,r,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,r){o++;var s=function(e,t){if(t=n[e=e||t])return t;throw new Error(e+" is not a valid compression method !")}(r.options.compression,t.compression),a=r.options.compressionOptions||t.compressionOptions||{},l=r.dir,c=r.date;r._compressWorker(s,a).withStreamInfo("file",{name:e,dir:l,date:c,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(i)})),i.entriesCount=o}catch(e){i.error(e)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e,t=new n;for(e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.1",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var n=e("./utils"),s=e("./external"),i=e("./utf8"),o=e("./zipEntries"),a=e("./stream/Crc32Probe"),l=e("./nodejsUtils");t.exports=function(e,t){var r=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),l.isNode&&l.isStream(e)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new o(t);return r.load(e),r})).then((function(e){var r=[s.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var i=0;i<n.length;i++)r.push(function(e){return new s.Promise((function(t,r){var n=e.decompressed.getContentWorker().pipe(new a);n.on("error",(function(e){r(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}(n[i]));return s.Promise.all(r)})).then((function(e){for(var s=(e=e.shift()).files,i=0;i<s.length;i++){var o=s[i],a=o.fileNameStr,l=n.resolve(o.fileNameStr);r.file(l,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders}),o.dir||(r.file(l).unsafeOriginalName=a)}return e.zipComment.length&&(r.comment=e.zipComment),r}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var n=e("../utils"),s=e("../stream/GenericWorker");function i(e,t){s.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(i,s),i.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},i.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var n=e("readable-stream").Readable;function s(e,t,r){n.call(this,t),this._helper=e;var s=this;e.on("data",(function(e,t){s.push(e)||s._helper.pause(),r&&r(t)})).on("error",(function(e){s.emit("error",e)})).on("end",(function(){s.push(null)}))}e("../utils").inherits(s,n),s.prototype._read=function(){this._helper.resume()},t.exports=s},{"../utils":32,"readable-stream":16}],14:[function(e,t,r){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){return Buffer.alloc?Buffer.alloc(e):((e=new Buffer(e)).fill(0),e)},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){"use strict";function n(e,t,r){var n=o.getTypeOf(t),i=o.extend(r||{},c),l=(i.date=i.date||new Date,null!==i.compression&&(i.compression=i.compression.toUpperCase()),"string"==typeof i.unixPermissions&&(i.unixPermissions=parseInt(i.unixPermissions,8)),i.unixPermissions&&16384&i.unixPermissions&&(i.dir=!0),i.dosPermissions&&16&i.dosPermissions&&(i.dir=!0),i.dir&&(e=_(e)),i.createFolders&&(l=function(e){var t=(e="/"===e.slice(-1)?e.substring(0,e.length-1):e).lastIndexOf("/");return 0<t?e.substring(0,t):""}(e))&&s.call(this,l,!0),"string"===n&&!1===i.binary&&!1===i.base64);r&&void 0!==r.binary||(i.binary=!l),(t instanceof u&&0===t.uncompressedSize||i.dir||!t||0===t.length)&&(i.base64=!1,i.binary=!0,t="",i.compression="STORE"),n=t instanceof u||t instanceof a?t:p.isNode&&p.isStream(t)?new d(e,t):o.prepareContent(e,t,i.binary,i.optimizedBinaryString,i.base64),r=new h(e,n,i),this.files[e]=r}function s(e,t){return t=void 0!==t?t:c.createFolders,e=_(e),this.files[e]||n.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]}var i=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),l=e("./stream/StreamHelper"),c=e("./defaults"),u=e("./compressedObject"),h=e("./zipObject"),f=e("./generate"),p=e("./nodejsUtils"),d=e("./nodejs/NodejsStreamInputAdapter"),_=function(e){return"/"!==e.slice(-1)&&(e+="/"),e};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}t.exports={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)},filter:function(e){var t=[];return this.forEach((function(r,n){e(r,n)&&t.push(n)})),t},file:function(e,t,r){var s;return 1!==arguments.length?(e=this.root+e,n.call(this,e,t,r),this):m(e)?(s=e,this.filter((function(e,t){return!t.dir&&s.test(e)}))):(t=this.files[this.root+e])&&!t.dir?t:null},folder:function(e){var t,r;return e?m(e)?this.filter((function(t,r){return r.dir&&e.test(t)})):(t=this.root+e,t=s.call(this,t),(r=this.clone()).root=t.name,r):this},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t={};try{if((t=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=t.type.toLowerCase(),t.compression=t.compression.toUpperCase(),"binarystring"===t.type&&(t.type="string"),!t.type)throw new Error("No output type specified.");o.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var r=t.comment||this.comment||"",n=f.generateWorker(this,t,r)}catch(e){(n=new a("error")).error(e)}return new l(n,t.type||"string",t.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var n=e("./DataReader");function s(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(s,n),s.prototype.byteAt=function(e){return this.data[this.zero+e]},s.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),s=e.charCodeAt(3),i=this.length-4;0<=i;--i)if(this.data[i]===t&&this.data[i+1]===r&&this.data[i+2]===n&&this.data[i+3]===s)return i-this.zero;return-1},s.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),s=(e=e.charCodeAt(3),this.readData(4));return t===s[0]&&r===s[1]&&n===s[2]&&e===s[3]},s.prototype.readData=function(e){var t;return this.checkOffset(e),0===e?[]:(t=this.data.slice(this.zero+this.index,this.zero+this.index+e),this.index+=e,t)},t.exports=s},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var n=e("../utils");function s(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=s},{"../utils":32}],19:[function(e,t,r){"use strict";var n=e("./Uint8ArrayReader");function s(e){n.call(this,e)}e("../utils").inherits(s,n),s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var n=e("./DataReader");function s(e){n.call(this,e)}e("../utils").inherits(s,n),s.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},s.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},s.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var n=e("./ArrayReader");function s(e){n.call(this,e)}e("../utils").inherits(s,n),s.prototype.readData=function(e){var t;return this.checkOffset(e),0===e?new Uint8Array(0):(t=this.data.subarray(this.zero+this.index,this.zero+this.index+e),this.index+=e,t)},t.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var n=e("../utils"),s=e("../support"),i=e("./ArrayReader"),o=e("./StringReader"),a=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||s.uint8array?"nodebuffer"===t?new a(e):s.uint8array?new l(n.transformTo("uint8array",e)):new i(n.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,r){"use strict";var n=e("./GenericWorker"),s=e("../utils");function i(e){n.call(this,"ConvertWorker to "+e),this.destType=e}s.inherits(i,n),i.prototype.processChunk=function(e){this.push({data:s.transformTo(this.destType,e.data),meta:e.meta})},t.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var n=e("./GenericWorker"),s=e("../crc32");function i(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(i,n),i.prototype.processChunk=function(e){this.streamInfo.crc32=s(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var n=e("../utils"),s=e("./GenericWorker");function i(e){s.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(i,s),i.prototype.processChunk=function(e){var t;e&&(t=this.streamInfo[this.propName]||0,this.streamInfo[this.propName]=t+e.data.length),s.prototype.processChunk.call(this,e)},t.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var n=e("../utils"),s=e("./GenericWorker");function i(e){s.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}n.inherits(i,s),i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished)||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0)},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){var e;return!(!this.isPaused||this.isFinished||(e=this.isPaused=!1,this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),e))},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t,r){"use strict";var n=e("../utils"),s=e("./ConvertWorker"),i=e("./GenericWorker"),o=e("../base64"),a=e("../support"),l=e("../external"),c=null;if(a.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t,r){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=r,n.checkSupport(o),this._worker=e.pipe(new s(o)),e.lock()}catch(e){this._worker=new i("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return t=this,r=e,new l.Promise((function(e,s){var i=[],a=t._internalType,l=t._outputType,c=t._mimeType;t.on("data",(function(e,t){i.push(e),r&&r(t)})).on("error",(function(e){i=[],s(e)})).on("end",(function(){try{var t=function(e,t,r){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),r);case"base64":return o.encode(t);default:return n.transformTo(e,t)}}(l,function(e,t){for(var r=0,n=null,s=0,i=0;i<t.length;i++)s+=t[i].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(n=new Uint8Array(s),i=0;i<t.length;i++)n.set(t[i],r),r+=t[i].length;return n;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,i),c);e(t)}catch(t){s(t)}i=[]})).resume()}));var t,r},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,(function(e){t.call(r,e.data,e.meta)})):this._worker.on(e,(function(){n.delay(t,arguments,r)})),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof Buffer,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(n),r.blob=0===s.getBlob("application/zip").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch(e){r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var n=e("./utils"),s=e("./support"),i=e("./nodejsUtils"),o=e("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){o.call(this,"utf-8 decode"),this.leftOver=null}function u(){o.call(this,"utf-8 encode")}a[254]=a[254]=1,r.utf8encode=function(e){if(s.nodebuffer)return i.newBufferFrom(e,"utf-8");for(var t,r,n,o,a=e,l=a.length,c=0,u=0;u<l;u++)55296==(64512&(r=a.charCodeAt(u)))&&u+1<l&&56320==(64512&(n=a.charCodeAt(u+1)))&&(r=65536+(r-55296<<10)+(n-56320),u++),c+=r<128?1:r<2048?2:r<65536?3:4;for(t=new(s.uint8array?Uint8Array:Array)(c),u=o=0;o<c;u++)55296==(64512&(r=a.charCodeAt(u)))&&u+1<l&&56320==(64512&(n=a.charCodeAt(u+1)))&&(r=65536+(r-55296<<10)+(n-56320),u++),r<128?t[o++]=r:(r<2048?t[o++]=192|r>>>6:(r<65536?t[o++]=224|r>>>12:(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63),t[o++]=128|r>>>6&63),t[o++]=128|63&r);return t},r.utf8decode=function(e){if(s.nodebuffer)return n.transformTo("nodebuffer",e).toString("utf-8");for(var t,r,i,o=e=n.transformTo(s.uint8array?"uint8array":"array",e),l=o.length,c=new Array(2*l),u=t=0;u<l;)if((r=o[u++])<128)c[t++]=r;else if(4<(i=a[r]))c[t++]=65533,u+=i-1;else{for(r&=2===i?31:3===i?15:7;1<i&&u<l;)r=r<<6|63&o[u++],i--;1<i?c[t++]=65533:r<65536?c[t++]=r:(r-=65536,c[t++]=55296|r>>10&1023,c[t++]=56320|1023&r)}return c.length!==t&&(c.subarray?c=c.subarray(0,t):c.length=t),n.applyFromCharCode(c)},n.inherits(c,o),c.prototype.processChunk=function(e){var t=n.transformTo(s.uint8array?"uint8array":"array",e.data),i=(this.leftOver&&this.leftOver.length&&(s.uint8array?(i=t,(t=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),t.set(i,this.leftOver.length)):t=this.leftOver.concat(t),this.leftOver=null),function(e,t){for(var r=(t=(t=t||e.length)>e.length?e.length:t)-1;0<=r&&128==(192&e[r]);)r--;return!(r<0)&&0!==r&&r+a[e[r]]>t?r:t}(t)),o=t;i!==t.length&&(s.uint8array?(o=t.subarray(0,i),this.leftOver=t.subarray(i,t.length)):(o=t.slice(0,i),this.leftOver=t.slice(i,t.length))),this.push({data:r.utf8decode(o),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=c,n.inherits(u,o),u.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){"use strict";var n=e("./support"),s=e("./base64"),i=e("./nodejsUtils"),o=e("./external");function a(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e("setimmediate"),r.newBlob=function(e,t){r.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,r){var n=[],s=0,i=e.length;if(i<=r)return String.fromCharCode.apply(null,e);for(;s<i;)n.push("array"===t||"nodebuffer"===t?String.fromCharCode.apply(null,e.slice(s,Math.min(s+r,i))):String.fromCharCode.apply(null,e.subarray(s,Math.min(s+r,i)))),s+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,n=r.getTypeOf(e),s=!0;if("uint8array"===n?s=c.applyCanBeUsed.uint8array:"nodebuffer"===n&&(s=c.applyCanBeUsed.nodebuffer),s)for(;1<t;)try{return c.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function h(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}r.applyFromCharCode=u;var f={};f.string={string:a,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,i.allocBuffer(e.length))}},f.array={string:u,array:a,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(e)}},f.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:a,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:a,nodebuffer:function(e){return i.newBufferFrom(e)}},f.nodebuffer={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:a},r.transformTo=function(e,t){if(t=t||"",!e)return t;r.checkSupport(e);var n=r.getTypeOf(t);return f[n][e](t)},r.resolve=function(e){for(var t=e.split("/"),r=[],n=0;n<t.length;n++){var s=t[n];"."===s||""===s&&0!==n&&n!==t.length-1||(".."===s?r.pop():r.push(s))}return r.join("/")},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&i.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){for(var t,r="",n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},r.delay=function(e,t,r){setImmediate((function(){e.apply(r||null,t||[])}))},r.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},r.extend=function(){for(var e,t={},r=0;r<arguments.length;r++)for(e in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],e)&&void 0===t[e]&&(t[e]=arguments[r][e]);return t},r.prepareContent=function(e,t,i,a,c){return o.Promise.resolve(t).then((function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise((function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)})):e})).then((function(t){var u=r.getTypeOf(t);return u?("arraybuffer"===u?t=r.transformTo("uint8array",t):"string"===u&&(c?t=s.decode(t):i&&!0!==a&&(t=l(u=t,new(n.uint8array?Uint8Array:Array)(u.length)))),t):o.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),s=e("./utils"),i=e("./signature"),o=e("./zipEntry"),a=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){var t;if(!this.reader.readAndCheckSignature(e))throw this.reader.index-=4,t=this.reader.readString(4),new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(t)+", expected "+s.pretty(e)+")")},isSignature:function(e,t){var r=this.reader.index;return this.reader.setIndex(e),e=this.reader.readString(4)===t,this.reader.setIndex(r),e},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?"uint8array":"array";t=s.transformTo(t,e),this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){for(var e,t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}if(e=this.centralDirOffset+this.centralDirSize,0<(e=t-(e=this.zip64?e+20+(12+this.zip64EndOfCentralSize):e)))this.isSignature(t,i.CENTRAL_FILE_HEADER)||(this.reader.zero=e);else if(e<0)throw new Error("Corrupted zip: missing "+Math.abs(e)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),s=e("./utils"),i=e("./compressedObject"),o=e("./crc32"),a=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(e){var t;if(e.skip(22),this.fileNameLength=e.readInt(2),t=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(t),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){var e;this.extraFields[1]&&(e=n(this.extraFields[1].value),this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS)&&(this.diskNumberStart=e.readInt(4))},readExtraFields:function(e){var t,r,n,s=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<s;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(s)},handleUTF8:function(){var e,t=c.uint8array?"uint8array":"array";this.useUTF8()?(this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment)):(null!==(e=this.findExtraFieldUnicodePath())?this.fileNameStr=e:(e=s.transformTo(t,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(e)),null!==(e=this.findExtraFieldUnicodeComment())?this.fileCommentStr=e:(e=s.transformTo(t,this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(e)))},findExtraFieldUnicodePath:function(){var e,t=this.extraFields[28789];return t&&1===(e=n(t.value)).readInt(1)&&o(this.fileName)===e.readInt(4)?a.utf8decode(e.readData(t.length-5)):null},findExtraFieldUnicodeComment:function(){var e,t=this.extraFields[25461];return t&&1===(e=n(t.value)).readInt(1)&&o(this.fileComment)===e.readInt(4)?a.utf8decode(e.readData(t.length-5)):null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var s=e("./stream/StreamHelper"),i=e("./stream/DataWorker"),o=e("./utf8"),a=e("./compressedObject"),l=e("./stream/GenericWorker");n.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(r=e.toLowerCase())||"text"===r,i=("binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker(),!this._dataBinary);i&&!n&&(t=t.pipe(new o.Utf8EncodeWorker)),!i&&n&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new s(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){var r;return this._data instanceof a&&this._data.compression.magic===e.magic?this._data.getCompressedWorker():(r=this._decompressWorker(),this._dataBinary||(r=r.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(r,e,t))},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new i(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<c.length;h++)n.prototype[c[h]]=u;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){"use strict";var r,n,s,i,o=e.MutationObserver||e.WebKitMutationObserver,a=o?(n=0,o=new o(c),s=e.document.createTextNode(""),o.observe(s,{characterData:!0}),function(){s.data=n=++n%2}):e.setImmediate||void 0===e.MessageChannel?"document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)}:((i=new e.MessageChannel).port1.onmessage=c,function(){i.port2.postMessage(0)}),l=[];function c(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}t.exports=function(e){1!==l.push(e)||r||a()}}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,r){"use strict";var n=e("immediate");function s(){}var i={},o=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==s&&p(this,e)}function u(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function h(e,t,r){n((function(){var n;try{n=t(r)}catch(n){return i.reject(e,n)}n===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,n)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var r=!1;function n(t){r||(r=!0,i.reject(e,t))}function s(t){r||(r=!0,i.resolve(e,t))}var o=d((function(){t(s,n)}));"error"===o.status&&n(o.value)}function d(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=c).prototype.finally=function(e){var t;return"function"!=typeof e?this:(t=this.constructor,this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))})))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var r;return"function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===o?this:(r=new this.constructor(s),this.state!==l?h(r,this.state===a?e:t,this.outcome):this.queue.push(new u(r,e,t)),r)},u.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){i.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},i.resolve=function(e,t){var r=d(f,t);if("error"===r.status)return i.reject(e,r.value);if(r=r.value)p(e,r);else{e.state=a,e.outcome=t;for(var n=-1,s=e.queue.length;++n<s;)e.queue[n].callFulfilled(t)}return e},i.reject=function(e,t){e.state=o,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:i.resolve(new this(s),e)},c.reject=function(e){var t=new this(s);return i.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var o=new Array(r),a=0,l=-1,c=new this(s);++l<r;)!function(e,s){t.resolve(e).then((function(e){o[s]=e,++a!==r||n||(n=!0,i.resolve(c,o))}),(function(e){n||(n=!0,i.reject(c,e))}))}(e[l],l);return c},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var n,o=-1,a=new this(s);++o<t;)n=e[o],this.resolve(n).then((function(e){r||(r=!0,i.resolve(a,e))}),(function(e){r||(r=!0,i.reject(a,e))}));return a}},{immediate:36}],38:[function(e,t,r){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var n=e("./zlib/deflate"),s=e("./utils/common"),i=e("./utils/strings"),o=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=s.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=((e=this.options).raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0,n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy));if(0!==t)throw new Error(o[t]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){if(e="string"==typeof e.dictionary?i.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(t=n.deflateSetDictionary(this.strm,e)))throw new Error(o[t]);this._dict_set=!0}}function u(e,t){if((t=new c(t)).push(e,!0),t.err)throw t.msg||o[t.err];return t.result}c.prototype.push=function(e,t){var r,o,a=this.strm,c=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=i.string2buf(e):"[object ArrayBuffer]"===l.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new s.Buf8(c),a.next_out=0,a.avail_out=c),1!==(r=n.deflate(a,o))&&0!==r)return this.onEnd(r),!(this.ended=!0)}while(0!==a.avail_out&&(0!==a.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(i.buf2binstring(s.shrinkBuf(a.output,a.next_out))):this.onData(s.shrinkBuf(a.output,a.next_out))),(0<a.avail_in||0===a.avail_out)&&1!==r);return 4===o?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==o||(this.onEnd(0),!(a.avail_out=0))},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=c,r.deflate=u,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var n=e("./zlib/inflate"),s=e("./utils/common"),i=e("./utils/strings"),o=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;if(t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits)&&(t.windowBits=-15),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0,(e=n.inflateInit2(this.strm,t.windowBits))!==o.Z_OK)throw new Error(a[e]);this.header=new c,n.inflateGetHeader(this.strm,this.header)}function f(e,t){if((t=new h(t)).push(e,!0),t.err)throw t.msg||a[t.err];return t.result}h.prototype.push=function(e,t){var r,a,l,c,h,f=this.strm,p=this.options.chunkSize,d=this.options.dictionary,_=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?f.input=i.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new s.Buf8(p),f.next_out=0,f.avail_out=p),(r=n.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&d&&(h="string"==typeof d?i.string2buf(d):"[object ArrayBuffer]"===u.call(d)?new Uint8Array(d):d,r=n.inflateSetDictionary(this.strm,h)),r===o.Z_BUF_ERROR&&!0===_&&(r=o.Z_OK,_=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),!(this.ended=!0)}while(!f.next_out||0!==f.avail_out&&r!==o.Z_STREAM_END&&(0!==f.avail_in||a!==o.Z_FINISH&&a!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(h=i.utf8border(f.output,f.next_out),l=f.next_out-h,c=i.buf2string(f.output,h),f.next_out=l,f.avail_out=p-l,l&&s.arraySet(f.output,f.output,h,l,0),this.onData(c)):this.onData(s.shrinkBuf(f.output,f.next_out))),0===f.avail_in&&0===f.avail_out&&(_=!0),(0<f.avail_in||0===f.avail_out)&&r!==o.Z_STREAM_END);return(a=r===o.Z_STREAM_END?o.Z_FINISH:a)===o.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):a!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(f.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=h,r.inflate=f,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},r.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array,s=(r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)},{arraySet:function(e,t,r,n,s){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),s);else for(var i=0;i<n;i++)e[s+i]=t[r+i]},flattenChunks:function(e){for(var t,r,n,s,i=t=0,o=e.length;i<o;i++)t+=e[i].length;for(s=new Uint8Array(t),i=r=0,o=e.length;i<o;i++)n=e[i],s.set(n,r),r+=n.length;return s}}),i={arraySet:function(e,t,r,n,s){for(var i=0;i<n;i++)e[s+i]=t[r+i]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,s)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,i))},r.setTyped(n)},{}],42:[function(e,t,r){"use strict";var n=e("./common"),s=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var o=new n.Buf8(256),a=0;a<256;a++)o[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(e,t){if(t<65537&&(e.subarray&&i||!e.subarray&&s))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",o=0;o<t;o++)r+=String.fromCharCode(e[o]);return r}o[254]=o[254]=1,r.string2buf=function(e){for(var t,r,s,i,o=e.length,a=0,l=0;l<o;l++)55296==(64512&(r=e.charCodeAt(l)))&&l+1<o&&56320==(64512&(s=e.charCodeAt(l+1)))&&(r=65536+(r-55296<<10)+(s-56320),l++),a+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(a),l=i=0;i<a;l++)55296==(64512&(r=e.charCodeAt(l)))&&l+1<o&&56320==(64512&(s=e.charCodeAt(l+1)))&&(r=65536+(r-55296<<10)+(s-56320),l++),r<128?t[i++]=r:(r<2048?t[i++]=192|r>>>6:(r<65536?t[i++]=224|r>>>12:(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63),t[i++]=128|r>>>6&63),t[i++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,s=t.length;r<s;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){for(var r,n,s,i=t||e.length,a=new Array(2*i),c=r=0;c<i;)if((n=e[c++])<128)a[r++]=n;else if(4<(s=o[n]))a[r++]=65533,c+=s-1;else{for(n&=2===s?31:3===s?15:7;1<s&&c<i;)n=n<<6|63&e[c++],s--;1<s?a[r++]=65533:n<65536?a[r++]=n:(n-=65536,a[r++]=55296|n>>10&1023,a[r++]=56320|1023&n)}return l(a,r)},r.utf8border=function(e,t){for(var r=(t=(t=t||e.length)>e.length?e.length:t)-1;0<=r&&128==(192&e[r]);)r--;return!(r<0)&&0!==r&&r+o[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){for(var s=65535&e,i=e>>>16&65535,o=0;0!==r;){for(r-=o=2e3<r?2e3:r;i=i+(s=s+t[n++]|0)|0,--o;);s%=65521,i%=65521}return s|i<<16}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var n=function(){for(var e=[],t=0;t<256;t++){for(var r=t,n=0;n<8;n++)r=1&r?3988292384^r>>>1:r>>>1;e[t]=r}return e}();t.exports=function(e,t,r,s){var i=n,o=s+r;e^=-1;for(var a=s;a<o;a++)e=e>>>8^i[255&(e^t[a])];return~e}},{}],46:[function(e,t,r){"use strict";var n,s=e("../utils/common"),i=e("./trees"),o=e("./adler32"),a=e("./crc32"),l=e("./messages"),c=0,u=0,h=-2,f=2,p=8,d=286,_=30,m=19,g=2*d+1,b=15,v=3,w=258,y=w+v+1,k=42,S=113;function T(e,t){return e.msg=l[t],t}function I(e){return(e<<1)-(4<e?9:0)}function x(e){for(var t=e.length;0<=--t;)e[t]=0}function C(e){var t=e.state,r=t.pending;0!==(r=r>e.avail_out?e.avail_out:r)&&(s.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending)&&(t.pending_out=0)}function E(e,t){i._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,C(e.strm)}function A(e,t){e.pending_buf[e.pending++]=t}function O(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function z(e,t){var r,n,s=e.max_chain_length,i=e.strstart,o=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-y?e.strstart-(e.w_size-y):0,c=e.window,u=e.w_mask,h=e.prev,f=e.strstart+w,p=c[i+o-1],d=c[i+o];e.prev_length>=e.good_match&&(s>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(r=t)+o]===d&&c[r+o-1]===p&&c[r]===c[i]&&c[++r]===c[i+1]){for(i+=2,r++;c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&i<f;);if(n=w-(f-i),i=f-w,o<n){if(e.match_start=t,a<=(o=n))break;p=c[i+o-1],d=c[i+o]}}}while((t=h[t&u])>l&&0!=--s);return o<=e.lookahead?o:e.lookahead}function D(e){var t,r,n,i,l,c,u,h,f,p=e.w_size;do{if(h=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-y)){for(s.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;n=e.head[--t],e.head[t]=p<=n?n-p:0,--r;);for(t=r=p;n=e.prev[--t],e.prev[t]=p<=n?n-p:0,--r;);h+=p}if(0===e.strm.avail_in)break;if(l=e.strm,c=e.window,u=e.strstart+e.lookahead,f=void 0,r=0===(f=h<(f=l.avail_in)?h:f)?0:(l.avail_in-=f,s.arraySet(c,l.input,l.next_in,f,u),1===l.state.wrap?l.adler=o(l.adler,c,f,u):2===l.state.wrap&&(l.adler=a(l.adler,c,f,u)),l.next_in+=f,l.total_in+=f,f),e.lookahead+=r,e.lookahead+e.insert>=v)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+v-1])&e.hash_mask,e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<v)););}while(e.lookahead<y&&0!==e.strm.avail_in)}function N(e,t){for(var r,n;;){if(e.lookahead<y){if(D(e),e.lookahead<y&&t===c)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=v&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-y&&(e.match_length=z(e,r)),e.match_length>=v)if(n=i._tr_tally(e,e.strstart-e.match_start,e.match_length-v),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=v){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(E(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<v-1?e.strstart:v-1,4===t?(E(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(E(e,!1),0===e.strm.avail_out)?1:2}function $(e,t){for(var r,n,s;;){if(e.lookahead<y){if(D(e),e.lookahead<y&&t===c)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=v&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=v-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-y&&(e.match_length=z(e,r),e.match_length<=5)&&(1===e.strategy||e.match_length===v&&4096<e.strstart-e.match_start)&&(e.match_length=v-1),e.prev_length>=v&&e.match_length<=e.prev_length){for(s=e.strstart+e.lookahead-v,n=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-v),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=v-1,e.strstart++,n&&(E(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=i._tr_tally(e,0,e.window[e.strstart-1]))&&E(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<v-1?e.strstart:v-1,4===t?(E(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(E(e,!1),0===e.strm.avail_out)?1:2}function B(e,t,r,n,s){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=s}function R(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*g),this.dyn_dtree=new s.Buf16(2*(2*_+1)),this.bl_tree=new s.Buf16(2*(2*m+1)),x(this.dyn_ltree),x(this.dyn_dtree),x(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(b+1),this.heap=new s.Buf16(2*d+1),x(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*d+1),x(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function P(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=f,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?k:S,e.adler=2===t.wrap?0:1,t.last_flush=c,i._tr_init(t),u):T(e,h)}function U(e){var t=P(e);return t===u&&((e=e.state).window_size=2*e.w_size,x(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=v-1,e.match_available=0,e.ins_h=0),t}function L(e,t,r,n,i,o){if(!e)return h;var a=1;if(-1===t&&(t=6),n<0?(a=0,n=-n):15<n&&(a=2,n-=16),i<1||9<i||r!==p||n<8||15<n||t<0||9<t||o<0||4<o)return T(e,h);8===n&&(n=9);var l=new R;return(e.state=l).strm=e,l.wrap=a,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+v-1)/v),l.window=new s.Buf8(2*l.w_size),l.head=new s.Buf16(l.hash_size),l.prev=new s.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new s.Buf8(l.pending_buf_size),l.d_buf=+l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=r,U(e)}n=[new B(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(D(e),0===e.lookahead&&t===c)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,E(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-y&&(E(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(E(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(E(e,!1),e.strm.avail_out),1)})),new B(4,4,8,4,N),new B(4,5,16,8,N),new B(4,6,32,32,N),new B(4,4,16,16,$),new B(8,16,32,32,$),new B(8,16,128,128,$),new B(8,32,128,256,$),new B(32,128,258,1024,$),new B(32,258,258,4096,$)],r.deflateInit=function(e,t){return L(e,t,p,15,8,0)},r.deflateInit2=L,r.deflateReset=U,r.deflateResetKeep=P,r.deflateSetHeader=function(e,t){return e&&e.state&&2===e.state.wrap?(e.state.gzhead=t,u):h},r.deflate=function(e,t){var r,s,o,l;if(!e||!e.state||5<t||t<0)return e?T(e,h):h;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||666===s.status&&4!==t)return T(e,0===e.avail_out?-5:h);if(s.strm=e,r=s.last_flush,s.last_flush=t,s.status===k&&(2===s.wrap?(e.adler=0,A(s,31),A(s,139),A(s,8),s.gzhead?(A(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),A(s,255&s.gzhead.time),A(s,s.gzhead.time>>8&255),A(s,s.gzhead.time>>16&255),A(s,s.gzhead.time>>24&255),A(s,9===s.level?2:2<=s.strategy||s.level<2?4:0),A(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(A(s,255&s.gzhead.extra.length),A(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=a(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(A(s,0),A(s,0),A(s,0),A(s,0),A(s,0),A(s,9===s.level?2:2<=s.strategy||s.level<2?4:0),A(s,3),s.status=S)):(f=p+(s.w_bits-8<<4)<<8,f|=(2<=s.strategy||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(f|=32),f+=31-f%31,s.status=S,O(s,f),0!==s.strstart&&(O(s,e.adler>>>16),O(s,65535&e.adler)),e.adler=1)),69===s.status)if(s.gzhead.extra){for(o=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>o&&(e.adler=a(e.adler,s.pending_buf,s.pending-o,o)),C(e),o=s.pending,s.pending!==s.pending_buf_size));)A(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>o&&(e.adler=a(e.adler,s.pending_buf,s.pending-o,o)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){o=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>o&&(e.adler=a(e.adler,s.pending_buf,s.pending-o,o)),C(e),o=s.pending,s.pending===s.pending_buf_size)){l=1;break}}while(l=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,A(s,l),0!==l);s.gzhead.hcrc&&s.pending>o&&(e.adler=a(e.adler,s.pending_buf,s.pending-o,o)),0===l&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){o=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>o&&(e.adler=a(e.adler,s.pending_buf,s.pending-o,o)),C(e),o=s.pending,s.pending===s.pending_buf_size)){l=1;break}}while(l=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,A(s,l),0!==l);s.gzhead.hcrc&&s.pending>o&&(e.adler=a(e.adler,s.pending_buf,s.pending-o,o)),0===l&&(s.status=103)}else s.status=103;if(103===s.status&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&C(e),s.pending+2<=s.pending_buf_size&&(A(s,255&e.adler),A(s,e.adler>>8&255),e.adler=0,s.status=S)):s.status=S),0!==s.pending){if(C(e),0===e.avail_out)return s.last_flush=-1,u}else if(0===e.avail_in&&I(t)<=I(r)&&4!==t)return T(e,-5);if(666===s.status&&0!==e.avail_in)return T(e,-5);if(0!==e.avail_in||0!==s.lookahead||t!==c&&666!==s.status){var f=2===s.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(D(e),0===e.lookahead)){if(t===c)return 1;break}if(e.match_length=0,r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(E(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(E(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(E(e,!1),0===e.strm.avail_out)?1:2}(s,t):3===s.strategy?function(e,t){for(var r,n,s,o,a=e.window;;){if(e.lookahead<=w){if(D(e),e.lookahead<=w&&t===c)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=v&&0<e.strstart&&(n=a[s=e.strstart-1])===a[++s]&&n===a[++s]&&n===a[++s]){for(o=e.strstart+w;n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&n===a[++s]&&s<o;);e.match_length=w-(o-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=v?(r=i._tr_tally(e,1,e.match_length-v),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(E(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(E(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(E(e,!1),0===e.strm.avail_out)?1:2}(s,t):n[s.level].func(s,t);if(3!==f&&4!==f||(s.status=666),1===f||3===f)return 0===e.avail_out&&(s.last_flush=-1),u;if(2===f&&(1===t?i._tr_align(s):5!==t&&(i._tr_stored_block(s,0,0,!1),3===t)&&(x(s.head),0===s.lookahead)&&(s.strstart=0,s.block_start=0,s.insert=0),C(e),0===e.avail_out))return s.last_flush=-1,u}return 4===t&&(s.wrap<=0||(2===s.wrap?(A(s,255&e.adler),A(s,e.adler>>8&255),A(s,e.adler>>16&255),A(s,e.adler>>24&255),A(s,255&e.total_in),A(s,e.total_in>>8&255),A(s,e.total_in>>16&255),A(s,e.total_in>>24&255)):(O(s,e.adler>>>16),O(s,65535&e.adler)),C(e),0<s.wrap&&(s.wrap=-s.wrap),0===s.pending))?1:u},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==k&&69!==t&&73!==t&&91!==t&&103!==t&&t!==S&&666!==t?T(e,h):(e.state=null,t===S?T(e,-3):u):h},r.deflateSetDictionary=function(e,t){var r,n,i,a,l,c,f,p=t.length;if(!e||!e.state)return h;if(2===(a=(r=e.state).wrap)||1===a&&r.status!==k||r.lookahead)return h;for(1===a&&(e.adler=o(e.adler,t,p,0)),r.wrap=0,p>=r.w_size&&(0===a&&(x(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new s.Buf8(r.w_size),s.arraySet(f,t,p-r.w_size,r.w_size,0),t=f,p=r.w_size),f=e.avail_in,l=e.next_in,c=e.input,e.avail_in=p,e.next_in=0,e.input=t,D(r);r.lookahead>=v;){for(n=r.strstart,i=r.lookahead-(v-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+v-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--i;);r.strstart=n,r.lookahead=v-1,D(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=v-1,r.match_available=0,e.next_in=l,e.input=c,e.avail_in=f,r.wrap=a,u},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(e,t){var r,n,s,i,o,a,l=e.state,c=e.next_in,u=e.input,h=c+(e.avail_in-5),f=e.next_out,p=e.output,d=f-(t-e.avail_out),_=f+(e.avail_out-257),m=l.dmax,g=l.wsize,b=l.whave,v=l.wnext,w=l.window,y=l.hold,k=l.bits,S=l.lencode,T=l.distcode,I=(1<<l.lenbits)-1,x=(1<<l.distbits)-1;e:do{for(k<15&&(y+=u[c++]<<k,k+=8,y+=u[c++]<<k,k+=8),r=S[y&I];;){if(y>>>=n=r>>>24,k-=n,0==(n=r>>>16&255))p[f++]=65535&r;else{if(!(16&n)){if(!(64&n)){r=S[(65535&r)+(y&(1<<n)-1)];continue}if(32&n){l.mode=12;break e}e.msg="invalid literal/length code",l.mode=30;break e}for(s=65535&r,(n&=15)&&(k<n&&(y+=u[c++]<<k,k+=8),s+=y&(1<<n)-1,y>>>=n,k-=n),k<15&&(y+=u[c++]<<k,k+=8,y+=u[c++]<<k,k+=8),r=T[y&x];;){if(y>>>=n=r>>>24,k-=n,!(16&(n=r>>>16&255))){if(!(64&n)){r=T[(65535&r)+(y&(1<<n)-1)];continue}e.msg="invalid distance code",l.mode=30;break e}if(i=65535&r,k<(n&=15)&&(y+=u[c++]<<k,(k+=8)<n)&&(y+=u[c++]<<k,k+=8),m<(i+=y&(1<<n)-1)){e.msg="invalid distance too far back",l.mode=30;break e}if(y>>>=n,k-=n,(n=f-d)<i){if(b<(n=i-n)&&l.sane){e.msg="invalid distance too far back",l.mode=30;break e}if(a=w,(o=0)===v){if(o+=g-n,n<s){for(s-=n;p[f++]=w[o++],--n;);o=f-i,a=p}}else if(v<n){if(o+=g+v-n,(n-=v)<s){for(s-=n;p[f++]=w[o++],--n;);if(o=0,v<s){for(s-=n=v;p[f++]=w[o++],--n;);o=f-i,a=p}}}else if(o+=v-n,n<s){for(s-=n;p[f++]=w[o++],--n;);o=f-i,a=p}for(;2<s;)p[f++]=a[o++],p[f++]=a[o++],p[f++]=a[o++],s-=3;s&&(p[f++]=a[o++],1<s)&&(p[f++]=a[o++])}else{for(o=f-i;p[f++]=p[o++],p[f++]=p[o++],p[f++]=p[o++],2<(s-=3););s&&(p[f++]=p[o++],1<s)&&(p[f++]=p[o++])}break}}break}}while(c<h&&f<_);c-=s=k>>3,y&=(1<<(k-=s<<3))-1,e.next_in=c,e.next_out=f,e.avail_in=c<h?h-c+5:5-(c-h),e.avail_out=f<_?_-f+257:257-(f-_),l.hold=y,l.bits=k}},{}],49:[function(e,t,r){"use strict";var n=e("../utils/common"),s=e("./adler32"),i=e("./crc32"),o=e("./inffast"),a=e("./inftrees"),l=0,c=-2,u=1,h=852,f=592;function p(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=u,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(h),t.distcode=t.distdyn=new n.Buf32(f),t.sane=1,t.back=-1,l):c}function m(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,_(e)):c}function g(e,t){var r,n;return!e||!e.state||(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t))?c:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,m(e))}function b(e,t){var r;return e?(r=new d,(e.state=r).window=null,(r=g(e,t))!==l&&(e.state=null),r):c}var v,w,y=!0;function k(e,t,r,s){var i;return null===(e=e.state).window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new n.Buf8(e.wsize)),s>=e.wsize?(n.arraySet(e.window,t,r-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(s<(i=e.wsize-e.wnext)&&(i=s),n.arraySet(e.window,t,r-s,i,e.wnext),(s-=i)?(n.arraySet(e.window,t,r-s,s,0),e.wnext=s,e.whave=e.wsize):(e.wnext+=i,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=i))),0}r.inflateReset=m,r.inflateReset2=g,r.inflateResetKeep=_,r.inflateInit=function(e){return b(e,15)},r.inflateInit2=b,r.inflate=function(e,t){var r,h,f,d,_,m,g,b,S,T,I,x,C,E,A,O,z,D,N,$,B,R,P,U,L=0,j=new n.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;12===(r=e.state).mode&&(r.mode=13),_=e.next_out,f=e.output,g=e.avail_out,d=e.next_in,h=e.input,m=e.avail_in,b=r.hold,S=r.bits,T=m,I=g,R=l;e:for(;;)switch(r.mode){case u:if(0===r.wrap)r.mode=13;else{for(;S<16;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}if(2&r.wrap&&35615===b)j[r.check=0]=255&b,j[1]=b>>>8&255,r.check=i(r.check,j,2,0),S=b=0,r.mode=2;else if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&b)<<8)+(b>>8))%31)e.msg="incorrect header check",r.mode=30;else if(8!=(15&b))e.msg="unknown compression method",r.mode=30;else{if(S-=4,B=8+(15&(b>>>=4)),0===r.wbits)r.wbits=B;else if(B>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<B,e.adler=r.check=1,r.mode=512&b?10:12,S=b=0}}break;case 2:for(;S<16;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}if(r.flags=b,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=b>>8&1),512&r.flags&&(j[0]=255&b,j[1]=b>>>8&255,r.check=i(r.check,j,2,0)),S=b=0,r.mode=3;case 3:for(;S<32;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}r.head&&(r.head.time=b),512&r.flags&&(j[0]=255&b,j[1]=b>>>8&255,j[2]=b>>>16&255,j[3]=b>>>24&255,r.check=i(r.check,j,4,0)),S=b=0,r.mode=4;case 4:for(;S<16;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}r.head&&(r.head.xflags=255&b,r.head.os=b>>8),512&r.flags&&(j[0]=255&b,j[1]=b>>>8&255,r.check=i(r.check,j,2,0)),S=b=0,r.mode=5;case 5:if(1024&r.flags){for(;S<16;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}r.length=b,r.head&&(r.head.extra_len=b),512&r.flags&&(j[0]=255&b,j[1]=b>>>8&255,r.check=i(r.check,j,2,0)),S=b=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((x=m<(x=r.length)?m:x)&&(r.head&&(B=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,h,d,x,B)),512&r.flags&&(r.check=i(r.check,h,x,d)),m-=x,d+=x,r.length-=x),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===m)break e;for(x=0;B=h[d+x++],r.head&&B&&r.length<65536&&(r.head.name+=String.fromCharCode(B)),B&&x<m;);if(512&r.flags&&(r.check=i(r.check,h,x,d)),m-=x,d+=x,B)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===m)break e;for(x=0;B=h[d+x++],r.head&&B&&r.length<65536&&(r.head.comment+=String.fromCharCode(B)),B&&x<m;);if(512&r.flags&&(r.check=i(r.check,h,x,d)),m-=x,d+=x,B)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;S<16;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}if(b!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}S=b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;S<32;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}e.adler=r.check=p(b),S=b=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=_,e.avail_out=g,e.next_in=d,e.avail_in=m,r.hold=b,r.bits=S,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last)b>>>=7&S,S-=7&S,r.mode=27;else{for(;S<3;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}switch(r.last=1&b,--S,3&(b>>>=1)){case 0:r.mode=14;break;case 1:W=M=void 0;var W,M=r;if(y){for(v=new n.Buf32(512),w=new n.Buf32(32),W=0;W<144;)M.lens[W++]=8;for(;W<256;)M.lens[W++]=9;for(;W<280;)M.lens[W++]=7;for(;W<288;)M.lens[W++]=8;for(a(1,M.lens,0,288,v,0,M.work,{bits:9}),W=0;W<32;)M.lens[W++]=5;a(2,M.lens,0,32,w,0,M.work,{bits:5}),y=!1}if(M.lencode=v,M.lenbits=9,M.distcode=w,M.distbits=5,r.mode=20,6!==t)break;b>>>=2,S-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}b>>>=2,S-=2}break;case 14:for(b>>>=7&S,S-=7&S;S<32;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}if((65535&b)!=(b>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&b,S=b=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(x=r.length){if(0===(x=g<(x=m<x?m:x)?g:x))break e;n.arraySet(f,h,d,x,_),m-=x,d+=x,g-=x,_+=x,r.length-=x}else r.mode=12;break;case 17:for(;S<14;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}if(r.nlen=257+(31&b),b>>>=5,S-=5,r.ndist=1+(31&b),b>>>=5,S-=5,r.ncode=4+(15&b),b>>>=4,S-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;S<3;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}r.lens[F[r.have++]]=7&b,b>>>=3,S-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,P={bits:r.lenbits},R=a(0,r.lens,0,19,r.lencode,0,r.work,P),r.lenbits=P.bits,R){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;O=(L=r.lencode[b&(1<<r.lenbits)-1])>>>16&255,z=65535&L,!((A=L>>>24)<=S);){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}if(z<16)b>>>=A,S-=A,r.lens[r.have++]=z;else{if(16===z){for(U=A+2;S<U;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}if(b>>>=A,S-=A,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}B=r.lens[r.have-1],x=3+(3&b),b>>>=2,S-=2}else if(17===z){for(U=A+3;S<U;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}B=0,x=3+(7&(b>>>=A)),b>>>=3,S=S-A-3}else{for(U=A+7;S<U;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}B=0,x=11+(127&(b>>>=A)),b>>>=7,S=S-A-7}if(r.have+x>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;x--;)r.lens[r.have++]=B}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,P={bits:r.lenbits},R=a(1,r.lens,0,r.nlen,r.lencode,0,r.work,P),r.lenbits=P.bits,R){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,P={bits:r.distbits},R=a(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,P),r.distbits=P.bits,R){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=m&&258<=g){e.next_out=_,e.avail_out=g,e.next_in=d,e.avail_in=m,r.hold=b,r.bits=S,o(e,I),_=e.next_out,f=e.output,g=e.avail_out,d=e.next_in,h=e.input,m=e.avail_in,b=r.hold,S=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;O=(L=r.lencode[b&(1<<r.lenbits)-1])>>>16&255,z=65535&L,!((A=L>>>24)<=S);){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}if(O&&!(240&O)){for(D=A,N=O,$=z;O=(L=r.lencode[$+((b&(1<<D+N)-1)>>D)])>>>16&255,z=65535&L,!(D+(A=L>>>24)<=S);){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}b>>>=D,S-=D,r.back+=D}if(b>>>=A,S-=A,r.back+=A,r.length=z,0===O){r.mode=26;break}if(32&O){r.back=-1,r.mode=12;break}if(64&O){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&O,r.mode=22;case 22:if(r.extra){for(U=r.extra;S<U;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}r.length+=b&(1<<r.extra)-1,b>>>=r.extra,S-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;O=(L=r.distcode[b&(1<<r.distbits)-1])>>>16&255,z=65535&L,!((A=L>>>24)<=S);){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}if(!(240&O)){for(D=A,N=O,$=z;O=(L=r.distcode[$+((b&(1<<D+N)-1)>>D)])>>>16&255,z=65535&L,!(D+(A=L>>>24)<=S);){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}b>>>=D,S-=D,r.back+=D}if(b>>>=A,S-=A,r.back+=A,64&O){e.msg="invalid distance code",r.mode=30;break}r.offset=z,r.extra=15&O,r.mode=24;case 24:if(r.extra){for(U=r.extra;S<U;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}r.offset+=b&(1<<r.extra)-1,b>>>=r.extra,S-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===g)break e;if(r.offset>(x=I-g)){if((x=r.offset-x)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}C=x>r.wnext?(x-=r.wnext,r.wsize-x):r.wnext-x,x>r.length&&(x=r.length),E=r.window}else E=f,C=_-r.offset,x=r.length;for(g-=x=g<x?g:x,r.length-=x;f[_++]=E[C++],--x;);0===r.length&&(r.mode=21);break;case 26:if(0===g)break e;f[_++]=r.length,g--,r.mode=21;break;case 27:if(r.wrap){for(;S<32;){if(0===m)break e;m--,b|=h[d++]<<S,S+=8}if(I-=g,e.total_out+=I,r.total+=I,I&&(e.adler=r.check=(r.flags?i:s)(r.check,f,I,_-I)),I=g,(r.flags?b:p(b))!==r.check){e.msg="incorrect data check",r.mode=30;break}S=b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;S<32;){if(0===m)break e;m--,b+=h[d++]<<S,S+=8}if(b!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}S=b=0}r.mode=29;case 29:R=1;break e;case 30:R=-3;break e;case 31:return-4;default:return c}return e.next_out=_,e.avail_out=g,e.next_in=d,e.avail_in=m,r.hold=b,r.bits=S,(r.wsize||I!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&k(e,e.output,e.next_out,I-e.avail_out)?(r.mode=31,-4):(T-=e.avail_in,I-=e.avail_out,e.total_in+=T,e.total_out+=I,r.total+=I,r.wrap&&I&&(e.adler=r.check=(r.flags?i:s)(r.check,f,I,e.next_out-I)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),R=(0==T&&0===I||4===t)&&R===l?-5:R)},r.inflateEnd=function(e){var t;return e&&e.state?((t=e.state).window&&(t.window=null),e.state=null,l):c},r.inflateGetHeader=function(e,t){return e&&e.state&&2&(e=e.state).wrap?((e.head=t).done=!1,l):c},r.inflateSetDictionary=function(e,t){var r,n=t.length;return!e||!e.state||0!==(r=e.state).wrap&&11!==r.mode?c:11===r.mode&&s(1,t,n,0)!==r.check?-3:k(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,l)},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var n=e("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,l,c,u,h,f){var p,d,_,m,g,b,v,w,y,k=f.bits,S=0,T=0,I=0,x=0,C=0,E=0,A=0,O=0,z=0,D=0,N=null,$=0,B=new n.Buf16(16),R=new n.Buf16(16),P=null,U=0;for(S=0;S<=15;S++)B[S]=0;for(T=0;T<l;T++)B[t[r+T]]++;for(C=k,x=15;1<=x&&0===B[x];x--);if(x<C&&(C=x),0===x)c[u++]=20971520,c[u++]=20971520,f.bits=1;else{for(I=1;I<x&&0===B[I];I++);for(C<I&&(C=I),S=O=1;S<=15;S++)if((O=(O<<1)-B[S])<0)return-1;if(0<O&&(0===e||1!==x))return-1;for(R[1]=0,S=1;S<15;S++)R[S+1]=R[S]+B[S];for(T=0;T<l;T++)0!==t[r+T]&&(h[R[t[r+T]]++]=T);if(b=0===e?(N=P=h,19):1===e?(N=s,$-=257,P=i,U-=257,256):(N=o,P=a,-1),S=I,g=u,A=T=D=0,_=-1,m=(z=1<<(E=C))-1,1===e&&852<z||2===e&&592<z)return 1;for(;;){for(y=h[T]<b?(w=0,h[T]):h[T]>b?(w=P[U+h[T]],N[$+h[T]]):(w=96,0),p=1<<(v=S-A),I=d=1<<E;c[g+(D>>A)+(d-=p)]=v<<24|w<<16|y,0!==d;);for(p=1<<S-1;D&p;)p>>=1;if(D=0!==p?(D&p-1)+p:0,T++,0==--B[S]){if(S===x)break;S=t[r+h[T]]}if(C<S&&(D&m)!==_){for(g+=I,O=1<<(E=S-(A=0===A?C:A));E+A<x&&!((O-=B[E+A])<=0);)E++,O<<=1;if(z+=1<<E,1===e&&852<z||2===e&&592<z)return 1;c[_=D&m]=C<<24|E<<16|g-u}}0!==D&&(c[g+D]=S-A<<24|64<<16),f.bits=C}return 0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var n=e("../utils/common");function s(e){for(var t=e.length;0<=--t;)e[t]=0}var i=16,o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576),h=(s(u),new Array(60)),f=(s(h),new Array(512)),p=(s(f),new Array(256)),d=(s(p),new Array(29));s(d);var _,m,g,b=new Array(30);function v(e,t,r,n,s){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=e&&e.length}function w(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function y(e){return e<256?f[e]:f[256+(e>>>7)]}function k(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function S(e,t,r){e.bi_valid>i-r?(e.bi_buf|=t<<e.bi_valid&65535,k(e,e.bi_buf),e.bi_buf=t>>i-e.bi_valid,e.bi_valid+=r-i):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function T(e,t,r){S(e,r[2*t],r[2*t+1])}function I(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function x(e,t,r){for(var n,s=new Array(16),i=0,o=1;o<=15;o++)s[o]=i=i+r[o-1]<<1;for(n=0;n<=t;n++){var a=e[2*n+1];0!==a&&(e[2*n]=I(s[a]++,a))}}function C(e){for(var t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function E(e){8<e.bi_valid?k(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function A(e,t,r,n){var s=2*t,i=2*r;return e[s]<e[i]||e[s]===e[i]&&n[t]<=n[r]}function O(e,t,r){for(var n=e.heap[r],s=r<<1;s<=e.heap_len&&(s<e.heap_len&&A(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!A(t,n,e.heap[s],e.depth));)e.heap[r]=e.heap[s],r=s,s<<=1;e.heap[r]=n}function z(e,t,r){var n,s,i,l,c=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],s=e.pending_buf[e.l_buf+c],c++,0==n?T(e,s,t):(T(e,(i=p[s])+256+1,t),0!==(l=o[i])&&S(e,s-=d[i],l),T(e,i=y(--n),r),0!==(l=a[i])&&S(e,n-=b[i],l)),c<e.last_lit;);T(e,256,t)}function D(e,t){var r,n,s,i=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<l;r++)0!==i[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):i[2*r+1]=0;for(;e.heap_len<2;)i[2*(s=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[s]=0,e.opt_len--,a&&(e.static_len-=o[2*s+1]);for(t.max_code=c,r=e.heap_len>>1;1<=r;r--)O(e,i,r);for(s=l;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],O(e,i,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,i[2*s]=i[2*r]+i[2*n],e.depth[s]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,i[2*r+1]=i[2*n+1]=s,e.heap[1]=s++,O(e,i,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1];for(var u,h,f,p,d,_=e,m=t.dyn_tree,g=t.max_code,b=t.stat_desc.static_tree,v=t.stat_desc.has_stree,w=t.stat_desc.extra_bits,y=t.stat_desc.extra_base,k=t.stat_desc.max_length,S=0,T=0;T<=15;T++)_.bl_count[T]=0;for(m[2*_.heap[_.heap_max]+1]=0,u=_.heap_max+1;u<573;u++)k<(T=m[2*m[2*(h=_.heap[u])+1]+1]+1)&&(T=k,S++),m[2*h+1]=T,g<h||(_.bl_count[T]++,p=0,y<=h&&(p=w[h-y]),d=m[2*h],_.opt_len+=d*(T+p),v&&(_.static_len+=d*(b[2*h+1]+p)));if(0!==S){do{for(T=k-1;0===_.bl_count[T];)T--}while(_.bl_count[T]--,_.bl_count[T+1]+=2,_.bl_count[k]--,0<(S-=2));for(T=k;0!==T;T--)for(h=_.bl_count[T];0!==h;)g<(f=_.heap[--u])||(m[2*f+1]!==T&&(_.opt_len+=(T-m[2*f+1])*m[2*f],m[2*f+1]=T),h--)}x(i,c,e.bl_count)}function N(e,t,r){var n,s,i=-1,o=t[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)s=o,o=t[2*(n+1)+1],++a<l&&s===o||(a<c?e.bl_tree[2*s]+=a:0!==s?(s!==i&&e.bl_tree[2*s]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,i=s,c=(a=0)===o?(l=138,3):s===o?(l=6,3):(l=7,4))}function $(e,t,r){var n,s,i=-1,o=t[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),n=0;n<=r;n++)if(s=o,o=t[2*(n+1)+1],!(++a<l&&s===o)){if(a<c)for(;T(e,s,e.bl_tree),0!=--a;);else 0!==s?(s!==i&&(T(e,s,e.bl_tree),a--),T(e,16,e.bl_tree),S(e,a-3,2)):a<=10?(T(e,17,e.bl_tree),S(e,a-3,3)):(T(e,18,e.bl_tree),S(e,a-11,7));i=s,c=(a=0)===o?(l=138,3):s===o?(l=6,3):(l=7,4)}}s(b);var B=!1;function R(e,t,r,s){S(e,0+(s?1:0),3),s=t,t=r,E(r=e),k(r,t),k(r,~t),n.arraySet(r.pending_buf,r.window,s,t,r.pending),r.pending+=t}r._tr_init=function(e){if(!B){for(var t,r,n,s,i=new Array(16),c=n=0;c<28;c++)for(d[c]=n,t=0;t<1<<o[c];t++)p[n++]=c;for(p[n-1]=c,c=s=0;c<16;c++)for(b[c]=s,t=0;t<1<<a[c];t++)f[s++]=c;for(s>>=7;c<30;c++)for(b[c]=s<<7,t=0;t<1<<a[c]-7;t++)f[256+s++]=c;for(r=0;r<=15;r++)i[r]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,i[8]++;for(;t<=255;)u[2*t+1]=9,t++,i[9]++;for(;t<=279;)u[2*t+1]=7,t++,i[7]++;for(;t<=287;)u[2*t+1]=8,t++,i[8]++;for(x(u,287,i),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=I(t,5);_=new v(u,o,257,286,15),m=new v(h,a,0,30,15),g=new v(new Array(0),l,0,19,7),B=!0}e.l_desc=new w(e.dyn_ltree,_),e.d_desc=new w(e.dyn_dtree,m),e.bl_desc=new w(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,C(e)},r._tr_stored_block=R,r._tr_flush_block=function(e,t,r,n){var s,i,o,a=0;if(0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){for(var t=4093624447,r=0;r<=31;r++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*r])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(r=32;r<256;r++)if(0!==e.dyn_ltree[2*r])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),a=function(e){var t;for(N(e,e.dyn_ltree,e.l_desc.max_code),N(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*c[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),s=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=s&&(s=i)):s=i=r+5,r+4<=s&&-1!==t)R(e,t,r,n);else if(4===e.strategy||i===s)S(e,2+(n?1:0),3),z(e,u,h);else{S(e,4+(n?1:0),3);var l=e,f=(t=e.l_desc.max_code+1,r=e.d_desc.max_code+1,a+1);for(S(l,t-257,5),S(l,r-1,5),S(l,f-4,4),o=0;o<f;o++)S(l,l.bl_tree[2*c[o]+1],3);$(l,l.dyn_ltree,t-1),$(l,l.dyn_dtree,r-1),z(e,e.dyn_ltree,e.dyn_dtree)}C(e),n&&E(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(p[r]+256+1)]++,e.dyn_dtree[2*y(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){S(e,2,3),T(e,256,u),16===e.bi_valid?(k(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){(function(e){!function(e,t){"use strict";var r,n,s,i,o,a,l,c,u;function h(e){delete o[e]}function f(e){if(a)setTimeout(f,0,e);else{var r=o[e];if(r){a=!0;try{var n=r.callback,s=r.args;switch(s.length){case 0:n();break;case 1:n(s[0]);break;case 2:n(s[0],s[1]);break;case 3:n(s[0],s[1],s[2]);break;default:n.apply(t,s)}}finally{h(e),a=!1}}}}function p(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&f(+t.data.slice(s.length))}e.setImmediate||(i=1,a=!(o={}),l=e.document,c=(c=Object.getPrototypeOf&&Object.getPrototypeOf(e))&&c.setTimeout?c:e,u="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){f(e)}))}:function(){var t,r;if(e.postMessage&&!e.importScripts)return t=!0,r=e.onmessage,e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}()?(s="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",p,!1):e.attachEvent("onmessage",p),function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((n=new MessageChannel).port1.onmessage=function(e){f(e.data)},function(e){n.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(f,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];return o[i]={callback:e,args:t},u(i),i++},c.clearImmediate=h)}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},972:(module,__unused_webpack_exports,__webpack_require__)=>{const isLocal="undefined"==typeof window,crc32=__webpack_require__(987),JSZip=__webpack_require__(710);var fs,path,XMLHttpRequest;isLocal&&(fs=__webpack_require__(968),path=__webpack_require__(944),XMLHttpRequest=__webpack_require__(301).XMLHttpRequest);class rsc{version(){return"1"}compilertype(){return"stl"}async compile(jsonData,folderPath,fileName,iflog){let rscStorage=null;jsonData.extensionStorage&&jsonData.extensionStorage.rsc&&(rscStorage=jsonData.extensionStorage.rsc);const notRepeatCloneList=rscStorage?.project?.notRepeatCloneList?.split(",");let extrablocks=[];var structs=[],funcs=[],out="";let targetID=-1;var compileEvents=["rsc_import","procedures_definition","event_whenbroadcastreceived","event_whenflagclicked","event_whenkeypressed","rsc_setmain","rsc_setruntime"],inputlist=["sensing_answer","operator_equals","operator_subtract","operator_add","operator_divide","operator_multiply","operator_join","operator_random","operator_gt","operator_lt","operator_and","operator_or","operator_not","operator_contains","operator_letter_of","operator_length","operator_mod","operator_round","operator_mathop","sensing_timer","argument_reporter_string_number","argument_reporter_boolean","procedures_prototype","data_itemoflist","data_itemnumoflist","data_lengthoflist","data_listcontainsitem","control_create_clone_of_menu","control_run_as_sprite_menu","rsc_user","rsc_compilerversion","rsc_varget","rsc_typeas","rsc_typeis","rsc_typechoose","rsc_typeof","procedures_call"],operatorlist=["operator_equals","operator_subtract","operator_add","operator_divide","operator_multiply","operator_join","operator_gt","operator_lt","operator_and","operator_or","operator_not","operator_mod"],uselist=[],deplist=[],runtimelist=[],starteventlist=[],clones={},globalvarlist=[],noglobalvarids=[],noglobalvarlist=[],nogloballistids=[],flagcount=0,clonecount=0,proccount=0,presscount=0,broadcastfuncs={},procnamelist=[],procparselist=[],proctypelist=[],proctypelistbackup=[],procpublist=[],procpubrealnamelist=[],inuselist=[],mainlist=[],isclone=!1,hasreturn=!1,hasCommandBlock=!1,selfmut=!1,clonevarlist=[],rscfunc="",globalextrablocks=[],foreachcount=0,keywordcount=0,keywords={},keywordonlys={},procUsingArgList=[],ignore=!1,diagnosis="",usingvars={},usedvars=[],structnames=[],haverscfunc=!1,reqlist=[],Tools={setlibrary(e){e.forEach((e=>{uselist.includes(e)||uselist.push(e)}))},setmain(e){e.forEach((e=>{mainlist.includes(e)||mainlist.push(e)}))},setdepend(e){e.forEach((e=>{deplist.includes(e)||deplist.push(e)}))},setruntime(e){e.forEach((e=>{runtimelist.includes(e)||runtimelist.push(e)}))},setfunc(e){e.forEach((e=>{funcs.includes(e)||funcs.push(e)}))},setstruct(e){e.forEach((e=>{structnames.includes(e[0])||(structs.push(e),structnames.push(e[0]))}))},setreq(e){e.forEach((e=>{reqlist.includes(e[0])||reqlist.push(e)}))},setinuse(e){e.forEach((e=>{inuselist.includes(e)||inuselist.push(e)}))},setclonevar(e){e.forEach((e=>{clonevarlist.includes(e)||clonevarlist.push(e)}))},setextrablockcompile(e){var t={COMMAND:"m",CONDITIONAL:"m",LOOP:"m",HAT:"m",REPORTER:"r",BOOLEAN:"r",LABEL:"u",XML:"u",BUTTON:"u"},r={register:e=>{var t,r;e.blocks&&e.id&&e.getInfo&&(e.blocks&&e.id||(({id:t,blocks:r}=e.getInfo()),e={...e,id:t,blocks:r}),e.blocks.forEach((t=>{if("u"!=t.blockType){var r=e[t.opcode],n=e.id+"_"+t.opcode,s=t.blockType,i=t.blockStart;switch(extrablocks.push(n),t.isOperator&&operatorlist.push(n),s){case"m":compiles[n]=r;break;case"r":inputscompiles[n]=r,inputlist.push(n)}i&&compileEvents.push(n)}})))}},n=(e=new Function(e),e=>{throw new Error(e)});rscStorage?.config?.AllowThis?e.call({rsc:this,fs,JSZip,path,TypeInput,Cast,Tools,compile_this,BlockType:t,extensions:r,isCompiler:!0,ThrowError:n}):e.call({JSZip,path,TypeInput,Cast,Tools,compile_this,BlockType:t,extensions:r,isCompiler:!0,ThrowError:n})}},TypeInput={Any:class{constructor(e){this.input=e,this.type="Any"}Num(){return this.input}Usize(){return this.input}i32(){return this.input}Str(){return this.input}Stri(){return this.input}Stu(){return this.input}},Num:class{constructor(e){this.input=e,this.type="Num"}Num(){return this.input}Usize(){return Number(this.input)?Math.round(this.input).toString()+"_usize":`(${this.input}) as usize`}i32(){return Number(this.input)?Math.round(this.input).toString()+"_i32":`(${this.input}) as i32`}Str(){return`&((${this.input}).to_string())`}Stri(){return`(${this.input}).to_string()`}Stu(){return`(${this.input}).to_string()`}},Usize:class{constructor(e){this.input=e,this.type="Usize"}Num(){return`(${this.input}) as f64`}Usize(){return Number(this.input)?Math.round(this.input).toString()+"_usize":this.input}i32(){return Number(this.input)?Math.round(this.input).toString()+"_i32":`(${this.input}) as i32`}Str(){return`&((${this.input}).to_string())`}Stri(){return`(${this.input}).to_string()`}Stu(){return`(${this.input}).to_string()`}},i32:class{constructor(e){this.input=e,this.type="i32"}Num(){return`(${this.input}) as f64`}Usize(){return Number(this.input)?Math.round(this.input).toString()+"_usize":`(${this.input}) as usize`}i32(){return Number(this.input)?Math.round(this.input).toString()+"_i32":this.input}Str(){return`&((${this.input}).to_string())`}Stri(){return`(${this.input}).to_string()`}Stu(){return`(${this.input}).to_string()`}},Str:class{constructor(e){this.input=e,this.type="Str"}Num(){return Tools.setruntime(["fn get_f64_string<T: AsRef<str>>(toget:T)->f64 {\nlet num:Result<f64, _> = toget.as_ref().parse();\nmatch num {\nOk(parsed_num) => parsed_num,\nErr(_) => 0.0\n}\n}"]),`get_f64_string(${this.input})`}Usize(){return Tools.setruntime(["fn get_usize_string<T: AsRef<str>>(toget:T)->usize {\nlet num:Result<usize, _> = toget.as_ref().parse();\nmatch num {\nOk(parsed_num) => parsed_num,\nErr(_) => 0\n}\n}"]),`get_usize_string(${this.input})`}i32(){return Tools.setruntime(["fn get_i32_string<T: AsRef<str>>(toget:T)->i32 {\nlet num:Result<i32, _> = toget.as_ref().parse();\nmatch num {\nOk(parsed_num) => parsed_num,\nErr(_) => 0\n}\n}"]),`get_i32_string(${this.input})`}Str(){return this.input}Stri(){return`String::from(${this.input})`}Stu(){return this.input}},Stri:class{constructor(e){this.input=e,this.type="Stri"}Num(){return Tools.setruntime(["fn get_f64_string<T: AsRef<str>>(toget:T)->f64 {\nlet num:Result<f64, _> = toget.as_ref().parse();\nmatch num {\nOk(parsed_num) => parsed_num,\nErr(_) => 0.0\n}\n}"]),`get_f64_string(${this.input.endsWith(".clone()")?this.input:this.input+".clone()"})`}Usize(){return Tools.setruntime(["fn get_usize_string<T: AsRef<str>>(toget:T)->usize {\nlet num:Result<usize, _> = toget.as_ref().parse();\nmatch num {\nOk(parsed_num) => parsed_num,\nErr(_) => 0\n}\n}"]),`get_usize_string(${this.input.endsWith(".clone()")?this.input:this.input+".clone()"})`}i32(){return Tools.setruntime(["fn get_i32_string<T: AsRef<str>>(toget:T)->i32 {\nlet num:Result<i32, _> = toget.as_ref().parse();\nmatch num {\nOk(parsed_num) => parsed_num,\nErr(_) => 0\n}\n}"]),`get_i32_string(${this.input.endsWith(".clone()")?this.input:this.input+".clone()"})`}Str(){return"&*("+this.input+")"}Stri(){return this.input}Stu(){return this.input}},Bool:class{constructor(e){this.input=e,this.type="Bool"}Bool(){return this.input}Num(){return`(${this.input}) as f64`}Usize(){return`(${this.input}) as usize`}i32(){return`(${this.input}) as i32`}Str(){return`&(${this.input}).to_string())`}Stri(){return`(${this.input}).to_string()`}Stu(){return`(${this.input}).to_string()`}},Var:rscStorage?.project?.UnuseTokio?class{constructor(e){this.input=e,this.type="Var"}Num(){var e=this.input;return globalvarlist.includes(e)?"self.vf_"+e:`self.vf_${targetID}_`+e}Usize(){var e=this.input;return globalvarlist.includes(e)?`self.vf_${e} as usize`:`self.vf_${targetID}_${e} as usize`}i32(){var e=this.input;return globalvarlist.includes(e)?`self.vf_${e} as i32`:`self.vf_${targetID}_${e} as i32`}Str(){var e=this.input;return globalvarlist.includes(e)?"&*self.vs_"+e:`&*self.vs_${targetID}_`+e}Stri(){var e=this.input;return globalvarlist.includes(e)?`self.vs_${e}.clone()`:`self.vs_${targetID}_${e}.clone()`}Stu(){var e=this.input;return globalvarlist.includes(e)?`self.vs_${e}.clone()`:`self.vs_${targetID}_${e}.clone()`}}:class{constructor(e){this.input=e,this.type="Var"}Num(){var e=this.input;return globalvarlist.includes(e)?(Tools.setfunc([`fn get_global_num_${e}(&self) -> f64 {\nlet globalvar = *self.vf_${e}.lock().unwrap();\nglobalvar\n}`]),`self.get_global_num_${e}()`):(Tools.setfunc([`fn get_${targetID}_num_${e}(&self) -> f64 {\nlet globalvar = *self.vf_${targetID}_${e}.lock().unwrap();\nglobalvar\n}`]),`self.get_${targetID}_num_${e}()`)}Usize(){var e=this.input;return globalvarlist.includes(e)?(Tools.setfunc([`fn get_global_num_${e}(&self) -> f64 {\nlet globalvar = *self.vf_${e}.lock().unwrap();\nglobalvar\n}`]),`self.get_global_num_${e}() as usize`):(Tools.setfunc([`fn get_${targetID}_num_${e}(&self) -> f64 {\nlet globalvar = *self.vf_${targetID}_${e}.lock().unwrap();\nglobalvar\n}`]),`self.get_${targetID}_num_${e}() as usize`)}i32(){var e=this.input;return globalvarlist.includes(e)?(Tools.setfunc([`fn get_global_num_${e}(&self) -> f64 {\nlet globalvar = *self.vf_${e}.lock().unwrap();\nglobalvar\n}`]),`self.get_global_num_${e}() as i32`):(Tools.setfunc([`fn get_${targetID}_num_${e}(&self) -> f64 {\nlet globalvar = *self.vf_${targetID}_${e}.lock().unwrap();\nglobalvar\n}`]),`self.get_${targetID}_num_${e}() as i32`)}Str(){var e=this.input;return globalvarlist.includes(e)?(Tools.setfunc([`fn get_global_str_${e}(&self) -> String {\nlet globalvar = self.vs_${e}.lock().unwrap().clone();\nglobalvar\n}`]),`&*self.get_global_str_${e}()`):(Tools.setfunc([`fn get_${targetID}_str_${e}(&self) -> String {\nlet globalvar = self.vs_${targetID}_${e}.lock().unwrap().clone();\nglobalvar\n}`]),`&*self.get_${targetID}_str_${e}()`)}Stri(){var e=this.input;return globalvarlist.includes(e)?(Tools.setfunc([`fn get_global_str_${e}(&self) -> String {\nlet globalvar = self.vs_${e}.lock().unwrap().clone();\nglobalvar\n}`]),`self.get_global_str_${e}()`):(Tools.setfunc([`fn get_${targetID}_str_${e}(&self) -> String {\nlet globalvar = self.vs_${targetID}_${e}.lock().unwrap().clone();\nglobalvar\n}`]),`self.get_${targetID}_str_${e}()`)}Stu(){var e=this.input;return globalvarlist.includes(e)?(Tools.setfunc([`fn get_global_str_${e}(&self) -> String {\nlet globalvar = self.vs_${e}.lock().unwrap().clone();\nglobalvar\n}`]),`self.get_global_str_${e}()`):(Tools.setfunc([`fn get_${targetID}_str_${e}(&self) -> String {\nlet globalvar = self.vs_${targetID}_${e}.lock().unwrap().clone();\nglobalvar\n}`]),`self.get_${targetID}_str_${e}()`)}}},Cast={toNum:e=>e&&""!=(e=(e="number"==typeof e?e.toString():e).startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e)?Number.isInteger(Number(e))?String(Number(e))+".0":e:"0.0",toUsize:e=>e&&""!==(e=e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e)?!e.includes(".")&&Number.isInteger(Number(e))?e:"("+e+") as usize":"0",toi32:e=>e&&""!==(e=e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e)?!e.includes(".")&&Number.isInteger(Number(e))?e:"("+e+") as i32":"0",toStr:e=>e?Number(e)||0==e?'"'+e+'"':e.startsWith('"')&&e.endsWith('"')?e:"&"+e:'""',toStri:e=>e?Cast.isNum(e)||(e=(e=e.startsWith('"')&&e.endsWith('"')?"("+e+").to_string()":e).startsWith("(")&&e.endsWith(")")?"("+e+").to_string()":e).startsWith("_")?"("+e+").to_string()":e:"String::new()",isNum:e=>"f64"==e.type||"i32"==e.type||"usize"==e.type,NumTest:e=>(e.startsWith('"')&&e.endsWith('"')&&(e=e.slice(1,-1)),/^\s*(-?\d+(\s*[\+\-\*\/%]\s*-?\d+)*)\s*$/.test(e)),toBool:e=>e&&""!=e?e:"false",toChar:e=>"'"+e+"'",toKeyword:e=>"string"==typeof e?e.slice(1,-1):"",toPress(e,t){let r="";switch(e){case"space":r=" ";break;case"up arrow":r="Up";break;case"down arrow":r="Down";break;case"right arrow":r="Right";break;case"left arrow":r="Left";break;case"enter":r="Enter";break;case"any":r="Char(c)";break;case"backspace":r="Backspace";break;case"delete":r="Delete";break;case"shift":case"control":r="Null";break;case"caps lock":r="CapsLock";break;case"scroll lock":r="ScrollLock";break;case"escape":r="Esc";break;case"insert":r="Insert";break;case"home":r="Home";break;case"end":r="End";break;case"page up":r="PageUp";break;case"page down":r="PageD";break;default:r=`Char(${Cast.toChar(t.fields.KEY_OPTION[0])})`}return r},unParse:e=>JSON.stringify(e),keywordunParse:e=>(keywords.hasOwnProperty(e)||(keywordcount++,keywords[e]=keywordcount),keywords[e].toString()),keywordOnly:e=>(keywordonlys.hasOwnProperty(e)||(keywordonlys[e]=crc32(e)),keywordonlys[e]),Safe:e=>e||"",SafeBool:e=>e?e.Bool():"false",replaceParentheses(e){if(e)return e.startsWith("(")&&e.endsWith(")")?e.slice(1,-1):e}};const inputscompiles={sensing_answer:rscStorage?.project?.UnuseTokio?e=>(Tools.setstruct([["sensing_answer","String","String::new()"]]),new TypeInput.Stri("&self.sensing_answer.clone()")):e=>(Tools.setstruct([["sensing_answer","Mutex<String>","Mutex::new(String::new())"]]),new TypeInput.Stri("&self.sensing_answer.lock().unwrap().clone()")),operator_equals:e=>new TypeInput.Bool("("+e.OPERAND1.Stri()+"=="+e.OPERAND2.Stri()+")"),operator_subtract:e=>new TypeInput.Num("("+e.NUM1.Num()+"-"+e.NUM2.Num()+")"),operator_add:e=>new TypeInput.Num("("+e.NUM1.Num()+"+"+e.NUM2.Num()+")"),operator_divide:e=>new TypeInput.Num("("+e.NUM1.Num()+"/"+e.NUM2.Num()+")"),operator_multiply:e=>new TypeInput.Num("("+e.NUM1.Num()+"*"+e.NUM2.Num()+")"),operator_join:e=>new TypeInput.Stri("("+e.STRING1.Stu()+".to_owned()+&"+e.STRING2.Stu()+".to_owned())"),operator_random:e=>(Tools.setdepend(['rand = "0.8"']),Tools.setlibrary(["use rand::Rng;"]),Tools.setruntime([["fn operator_random(num1: f64, num2: f64) -> f64 {","let mut rng = rand::thread_rng();","let are_both_integers = num1.fract() == 0.0 && num2.fract() == 0.0;","if are_both_integers {","let start = num1 as i64;","let end = num2 as i64;","if start > end {","return rng.gen_range(end..=start) as f64;","} else {","return rng.gen_range(start..=end) as f64;","}","} else {","if rng.gen_bool(0.5) {","return num1;","} else {","return num2;","}","}","}"].join("\n")]),new TypeInput.Num("operator_random("+e.FROM.Num()+","+e.TO.Num()+")")),operator_gt:e=>new TypeInput.Bool("("+e.OPERAND1.Num()+">"+e.OPERAND2.Num()+")"),operator_lt:e=>new TypeInput.Bool("("+e.OPERAND1.Num()+"<"+e.OPERAND2.Num()+")"),operator_and:e=>new TypeInput.Bool("("+Cast.SafeBool(e.OPERAND1)+"&&"+Cast.SafeBool(e.OPERAND2)+")"),operator_or:e=>new TypeInput.Bool("("+Cast.SafeBool(e.OPERAND1)+"||"+Cast.SafeBool(e.OPERAND2)+")"),operator_not:e=>new TypeInput.Bool("!("+Cast.SafeBool(e.OPERAND)+")"),sensing_timer:e=>new TypeInput.Num("timer.get_timer()"),argument_reporter_string_number:e=>1==e.scope.block.shadow?(proctypelist.push("&str"),"pm_"+Cast.keywordunParse(e.scope.block.fields.VALUE[0])):(procUsingArgList.push("pm_"+Cast.keywordunParse(e.scope.block.fields.VALUE[0])),new TypeInput.Str("pm_"+Cast.keywordunParse(e.scope.block.fields.VALUE[0]))),argument_reporter_boolean:e=>1==e.scope.block.shadow?(proctypelist.push("bool"),"pm_"+Cast.keywordunParse(e.scope.block.fields.VALUE[0])):(procUsingArgList.push("pm_"+Cast.keywordunParse(e.scope.block.fields.VALUE[0])),new TypeInput.Bool("pm_"+Cast.keywordunParse(e.scope.block.fields.VALUE[0]))),procedures_prototype:e=>(procnamelist.push(e.scope.block.mutation.proccode),delete e.scope,new class{constructor(e){this.input=e,this.type="protoType"}protoType(){return this.input}}(e)),data_itemoflist(e){var t=getlist(Cast.keywordunParse(e.scope.block.fields.LIST[0]),e.scope.block.fields.LIST[1]),r=Cast.keywordunParse(e.scope.block.fields.LIST[0]);return Tools.setfunc([[`fn get_item_${r}(&self,item: usize) -> String{`,`if let Some(value) = ${t}.get(item) {`,"value.to_string()","} else {","String::new()","}","}"].join("\n")]),new TypeInput.Stri(`self.get_item_${r}(if let Some(result) = ${'"last"'==e.INDEX?t+".len()":"("+e.INDEX.Usize()}).checked_sub(1) {result} else {0})`)},data_itemnumoflist(e){var t=getlist(Cast.keywordunParse(e.scope.block.fields.LIST[0]),e.scope.block.fields.LIST[1]),r=Cast.keywordunParse(e.scope.block.fields.LIST[0]);return Tools.setfunc([[`fn get_position_${r}(&self,value_to_find: &str) -> f64{`,`if let Some(position) = ${t}.iter().position(|x| x == &value_to_find) {`,"position as f64 + 1.0","} else {","0.0","}","}"].join("\n")]),new TypeInput.Num(`self.get_position_${r}(${e.ITEM.Str()})`)},data_lengthoflist(e){var t=getlist(Cast.keywordunParse(e.scope.block.fields.LIST[0]),e.scope.block.fields.LIST[1]);return e=Cast.keywordunParse(e.scope.block.fields.LIST[0]),Tools.setfunc([[`fn get_leng_${e}(&self) -> f64{`,t+".len() as f64","}"].join("\n")]),new TypeInput.Num(`self.get_leng_${e}()`)},data_listcontainsitem(e){var t=getlist(Cast.keywordunParse(e.scope.block.fields.LIST[0]),e.scope.block.fields.LIST[1]),r=Cast.keywordunParse(e.scope.block.fields.LIST[0]);return Tools.setfunc([[`fn get_contains_${r}(&self,item: String) -> bool{`,t+".contains(&item)","}"].join("\n")]),new TypeInput.Bool(`self.get_contains_${r}(${e.ITEM.Stri()})`)},control_create_clone_of_menu:e=>e.scope.block.fields.CLONE_OPTION[0],control_run_as_sprite_menu:e=>e.scope.block.fields.RUN_AS_OPTION[0],operator_contains:e=>new TypeInput.Bool(`${e.STRING1.Stu()}.contains(&${e.STRING2.Stu()})`),operator_letter_of:e=>(Tools.setruntime(["fn get_char_at<T: AsRef<str>>(s: T, index: f64) -> String {\ns.as_ref().chars().nth((index - 1.0) as usize).map(|c| c.to_string()).unwrap_or_default()\n}"]),new TypeInput.Stri(`get_char_at(${e.STRING.Stu()},${e.LETTER.Num()})`)),operator_length:e=>new TypeInput.Num(e.STRING.Stu()+".chars().count() as f64"),operator_mod:e=>new TypeInput.Num("("+e.NUM1.Num()+"%"+e.NUM2.Num()+")"),operator_round:e=>(Tools.setruntime(["fn numround(s: f64) -> f64 {\ns.round()\n}"]),new TypeInput.Num(`numround(${e.NUM.Num()})`)),operator_mathop(e){if("abs"==e.scope.block.fields.OPERATOR[0])return Tools.setruntime(["fn numabs(s: f64) -> f64 {\ns.abs()\n}"]),new TypeInput.Num(`numabs(${e.NUM.Num()})`)},rsc_user(e){var t=e.scope.block.fields.from[0],r=e.scope.block.fields.hsm[0],n=Object.keys(e).filter((e=>e.startsWith("ADD"))).map((t=>e[t].Stri()));return""!=t?(t="m_"+Cast.keywordunParse(t),Tools.setstruct([[t,"md_"+Cast.keywordunParse(e.scope.block.fields.from[0]),`md_${Cast.keywordunParse(e.scope.block.fields.from[0])}::new()`]]),new TypeInput.Stri(`self.${t}.procpub${Cast.keywordOnly(r)}(${n.join(",")})`)):new TypeInput.Stri(`self.procpub${Cast.keywordOnly(r)}(${n.join(",")})`)},rsc_compilerversion:e=>new TypeInput.Num((new rsc).version()),rsc_varget:e=>new class{constructor(e){this.input=e,this.type="ScopeVar"}Num(){return Tools.setruntime(["fn get_f64_string<T: AsRef<str>>(toget:T)->f64 {\nlet num:Result<f64, _> = toget.as_ref().parse();\nmatch num {\nOk(parsed_num) => parsed_num,\nErr(_) => 0.0\n}\n}"]),`get_f64_string(_scopevar_${this.input})`}Usize(){return Tools.setruntime(["fn get_usize_string<T: AsRef<str>>(toget:T)->usize {\nlet num:Result<usize, _> = toget.as_ref().parse();\nmatch num {\nOk(parsed_num) => parsed_num,\nErr(_) => 0\n}\n}"]),`get_usize_string(_scopevar_${this.input})`}i32(){return Tools.setruntime(["fn get_i32_string<T: AsRef<str>>(toget:T)->i32 {\nlet num:Result<i32, _> = toget.as_ref().parse();\nmatch num {\nOk(parsed_num) => parsed_num,\nErr(_) => 0\n}\n}"]),`get_i32_string(_scopevar_${this.input})`}Str(){return"*_scopevar_"+this.input}Stri(){return"_scopevar_"+this.input}Stu(){return"_scopevar_"+this.input}}(Cast.keywordunParse(e.scope.block.fields.HEADER[0])),rsc_typeas(e){var t=e.scope.block.fields.type[0];return new TypeInput[t](e.thing[t]())},rsc_typeis(e){var t=e.scope.block.fields.type[0];return new TypeInput[t](e.thing.input)},rsc_typechoose(e){var t=e.scope.block.fields.type[0];return new TypeInput.Bool(e.thing.type==t)},rsc_typeof:e=>new TypeInput.Str(e.thing.type),procedures_call(e){var t=[],r={...e},n=(delete r.scope,delete r.compiler,proctypelistbackup[procnamelist.indexOf(e.scope.block.mutation.proccode)]);let s=-1,i=0;for(const e in r)s++,r.hasOwnProperty(e)&&("F"==n[s]?(i++,r.compiler+=`let func${i} = || {\n${r[e]}};\n`,t.push("func"+i)):t.push("&str"==n[s]?r[e].Str():Cast.SafeBool(r[e])));let o=procparselist[procnamelist.indexOf(e.scope.block.mutation.proccode)];return procpublist.includes(o)&&(o=procpubrealnamelist[procpublist.indexOf(o)]),new TypeInput.Stri(`self.${o}(${t.join(",")})`+(e.scope.block.mutation.hasOwnProperty("return")&&"1"==e.scope.block.mutation.return?"":";\n"))}},compiles={async event_whenflagclicked(e){flagcount++,starteventlist.push("flag"+flagcount);var t="";return e.scope.block.next&&(t=await compile_this(e.scope.target.blocks[e.scope.block.next],e.scope.target)),e.compiler+=rscStorage?.project?.UnuseTokio?`fn flag${flagcount}(${selfmut?"&mut self":"&self"}){`+(0==inuselist.length?"":"\n")+inuselist.join("\n")+"\n":`async fn flag${flagcount}(${selfmut?"&mut self":"&self"}){`+(0==inuselist.length?"":"\n")+inuselist.join("\n")+"\n",""!=t&&(e.compiler+=t),e.compiler+="}\n",Tools.setfunc([e.compiler]),e.compiler},async procedures_definition(e){proccount++,hasreturn=!1;let t=rscfunc="",r=(procUsingArgList=[],e.scope.block.next&&(t=await compile_this(e.scope.target.blocks[e.scope.block.next],e.scope.target)),[]),n=(procparselist.push("proc"+proccount),proctypelistbackup.push(proctypelist),-1);const s=e.custom_block.protoType();var i;return Object.keys(s).forEach((function(e){n++,procUsingArgList.includes(s[e])?r.push(s[e]+": "+proctypelist[n]):r.push("_"+s[e]+": "+proctypelist[n])})),rscfunc&&(procpublist.push("proc"+proccount),procpubrealnamelist.push("procpub"+rscfunc)),e.compiler+=(rscfunc?"pub fn procpub"+rscfunc:"fn proc"+proccount)+(hasCommandBlock?"<F: Fn()>":"")+`(${selfmut?"&mut self":"&self"}${"0"!=r.length?",":""}${r.join(",")})${hasreturn?"->Arc<String>":""}{\n`,hasCommandBlock=!1,e.compiler+=t,hasreturn&&(Tools.setlibrary(["use std::sync::Arc;"]),"return"!=(i=e.compiler.split("\n"))[i.length-2].substring(0,6)?e.compiler+="Arc::new(String::new())\n":(i[i.length-2]=i[i.length-2].substring(7,i[i.length-2].length-1),e.compiler=i.join("\n"))),e.compiler+="}\n",Tools.setfunc([e.compiler]),e.compiler},procedures_return:e=>(e.compiler+="return Arc::new("+e.VALUE.Stri()+");\n",hasreturn=!0,e.compiler),procedures_call(e){var t=[],r={...e},n=(delete r.scope,delete r.compiler,proctypelistbackup[procnamelist.indexOf(e.scope.block.mutation.proccode)]);let s=-1,i=0;for(const e in r)s++,r.hasOwnProperty(e)&&("F"==n[s]?(i++,r.compiler+=`let func${i} = || {\n${r[e]}};\n`,t.push("func"+i)):t.push("&str"==n[s]?r[e].Str():Cast.SafeBool(r[e])));let o=procparselist[procnamelist.indexOf(e.scope.block.mutation.proccode)];return procpublist.includes(o)&&(o=procpubrealnamelist[procpublist.indexOf(o)]),e.compiler+=`self.${o}(${t.join(",")})`+(e.scope.block.mutation.hasOwnProperty("return")&&"1"==e.scope.block.mutation.return?"":";\n"),e.compiler},async control_start_as_clone(e){clonecount++;var t="";return clonevarlist=[],e.scope.block.next&&(t=await compile_this(e.scope.target.blocks[e.scope.block.next],e.scope.target)),notRepeatCloneList.includes(e.scope.target.name)||(Tools.setdepend(['async-recursion = "1.0.5"']),Tools.setlibrary(["use async_recursion::async_recursion;"]),e.compiler+="#[async_recursion]\n"),e.compiler+=`async fn _${targetID}_clone${clonecount}(){`+(0==inuselist.length?"":"\n")+inuselist.join("\n")+"\n",e.compiler+=0==clonevarlist.length?"":clonevarlist.join("\n")+"\n",""!=t&&(e.compiler+=t),e.compiler+="}\n",out+=e.compiler,e.compiler},control_create_clone_of(e){var t="";let r=[];if("_myself_"==e.CLONE_OPTION)r=clones[targetID];else{const t=e.CLONE_OPTION;let n=-1;jsonData.targets.forEach(((e,r)=>{e.name===t&&(n=r)})),r=clones[n]}return r&&r.forEach((function(e){t+=`tokio::spawn(${e}());\n`})),e.compiler+=t,e.compiler},control_delete_this_clone:e=>(e.compiler+="return;\n",e.compiler),control_forever:e=>(e.compiler+="loop {\n",e.compiler+=Cast.Safe(e.SUBSTACK),e.compiler+="}\n",e.compiler),control_break:e=>(e.compiler+="break;",e.compiler),control_repeat:e=>(e.compiler+=`let repeatto = ${e.TIMES.Usize()};\n`,e.compiler+="for _ in 0..repeatto{\n",e.compiler+=Cast.Safe(e.SUBSTACK),e.compiler+="}\n",e.compiler),control_for_each(e){foreachcount++;var t=getvar(r=Cast.keywordunParse(e.scope.block.fields.VARIABLE[0]),e.scope.block.fields.VARIABLE[1]).num(),r=getvar(r,e.scope.block.fields.VARIABLE[1]).str();return e.compiler+=`let foreachvarnum${foreachcount} = ${t};\n`,e.compiler+=`let foreachvarstr${foreachcount} = (${r}).clone();\n`,e.compiler+=r+' = String::from("0");\n',e.compiler+=t+" = 0.0;\n",e.compiler+=`let foreachto${foreachcount} = ${e.VALUE.Usize()};\n`,e.compiler+=`let mut foreachnum${foreachcount} = 1;\n`,e.compiler+=`while foreachnum${foreachcount} <= foreachto${foreachcount} {\n`,e.compiler+=t+` = foreachnum${foreachcount} as f64;\n`,e.compiler+=r+` = foreachnum${foreachcount}.to_string();\n`,e.compiler+=Cast.Safe(e.SUBSTACK),e.compiler+=`foreachnum${foreachcount} += 1;\n`,e.compiler+="}\n",e.compiler+=t+` = foreachvarnum${foreachcount};\n`,e.compiler+=r+` = foreachvarstr${foreachcount};\n`,e.compiler},control_if:e=>(e.compiler+=`if ${Cast.SafeBool(e.CONDITION)}{\n`,e.compiler+=Cast.Safe(e.SUBSTACK),e.compiler+="};\n",e.compiler),control_if_else:e=>(e.compiler+=`if ${Cast.SafeBool(e.CONDITION)}{\n`,e.compiler+=Cast.Safe(e.SUBSTACK),e.compiler+="}\n",e.compiler+="else {\n",e.compiler+=Cast.Safe(e.SUBSTACK2),e.compiler+="};\n",e.compiler),control_while:e=>(e.compiler+=`while ${Cast.SafeBool(e.CONDITION)}{\n`,e.compiler+=Cast.Safe(e.SUBSTACK),e.compiler+="};\n",e.compiler),control_wait_until:e=>(e.compiler+=`while !(${Cast.SafeBool(e.CONDITION)}){};\n`,e.compiler),control_repeat_until:e=>(e.compiler+=`while !(${Cast.SafeBool(e.CONDITION)}){\n`,e.compiler+=Cast.Safe(e.SUBSTACK),e.compiler+="};\n",e.compiler),control_all_at_once:e=>(e.compiler+="if true{\n",e.compiler+=Cast.Safe(e.SUBSTACK),e.compiler+="}\n",e.compiler),sensing_askandwait:rscStorage?.project?.UnuseTokio?e=>(Tools.setlibrary(["use std::io;","use std::io::Write;"]),Tools.setstruct([["sensing_answer","String","String::new()"]]),e.compiler+=`print!("{}",${e.QUESTION.Stu()});\n`,e.compiler+='print!("\\n");\n',e.compiler+="io::stdout().flush().unwrap();\n",e.compiler+="let mut sensing_answer = String::new();\n",e.compiler+="io::stdin().read_line(&mut sensing_answer).unwrap();\n",e.compiler+="self.sensing_answer = sensing_answer.trim().to_owned();\n",rscStorage?.project?.UnuseTokio&&(selfmut=!0),e.compiler):e=>(Tools.setlibrary(["use std::io;","use std::io::Write;","use std::sync::Mutex;"]),Tools.setstruct([["sensing_answer","Mutex<String>","Mutex::new(String::new())"]]),e.compiler+=`print!("{}",${e.QUESTION.Stu()});\n`,e.compiler+='print!("\\n");\n',e.compiler+="io::stdout().flush().unwrap();\n",e.compiler+="let mut sensing_answer = String::new();\n",e.compiler+="io::stdin().read_line(&mut sensing_answer).unwrap();\n",e.compiler+="*self.sensing_answer.lock().unwrap() = sensing_answer.trim().to_owned();\n",e.compiler),looks_say:e=>(e.compiler+=`println!("{}",${e.MESSAGE.Stu()});\n`,e.compiler),looks_think:e=>(e.compiler+=`println!("{}",${e.MESSAGE.Stu()});\n`,e.compiler),control_wait:e=>(Tools.setlibrary(["use std::thread;","use std::time::Duration;"]),e.compiler+=`thread::sleep(Duration::from_secs_f64(${e.DURATION.Num()}));\n`,e.compiler),sensing_resettimer:e=>(Tools.setlibrary(["use std::time::Duration;","use tokio::time::Instant;"]),Tools.setruntime([["struct Timer {","start_time: Instant,","}","impl Timer {","fn new() -> Timer {","let start_time = Instant::now();","Timer { start_time }","}","fn get_timer(mut self) -> f64 {","let current_time = Instant::now();","let elapsed_time = current_time.duration_since(self.start_time);","let seconds_with_fraction = elapsed_time.as_secs_f64();","seconds_with_fraction","}\n}"].join("\n")]),Tools.setinuse(["let mut timer = Timer::new();"]),e.compiler+="timer = Timer::new();\n",e.compiler),data_setvariableto(e){var t=Cast.keywordunParse(e.scope.block.fields.VARIABLE[0]);return e.compiler+=`${getvar(t,e.scope.block.fields.VARIABLE[1]).num()} = ${e.VALUE.Num()};\n`,e.compiler+=`${getvar(t,e.scope.block.fields.VARIABLE[1]).str()} = ${e.VALUE.Stri()};\n`,rscStorage?.project?.UnuseTokio&&(selfmut=!0),e.compiler},data_changevariableby(e){var t=Cast.keywordunParse(e.scope.block.fields.VARIABLE[0]);return e.compiler+=`${getvar(t,e.scope.block.fields.VARIABLE[1]).num()} += ${e.VALUE.Num()};\n`,e.compiler+=`${getvar(t,e.scope.block.fields.VARIABLE[1]).str()} = (${getvar(t,e.scope.block.fields.VARIABLE[1]).num()}).to_string();\n`,rscStorage?.project?.UnuseTokio&&(selfmut=!0),e.compiler},data_addtolist(e){var t=Cast.keywordunParse(e.scope.block.fields.LIST[0]);return e.compiler+=`let addin = ${e.ITEM.Stri()};\n`,e.compiler+=getlist(t,e.scope.block.fields.LIST[1])+".push(addin);\n",rscStorage?.project?.UnuseTokio&&(selfmut=!0),e.compiler},data_deletealloflist(e){var t=Cast.keywordunParse(e.scope.block.fields.LIST[0]);return e.compiler+=getlist(t,e.scope.block.fields.LIST[1])+".clear();\n",rscStorage?.project?.UnuseTokio&&(selfmut=!0),e.compiler},data_deleteoflist(e){var t=Cast.keywordunParse(e.scope.block.fields.LIST[0]),r='"last"'==e.INDEX?`(${getlist(t,e.scope.block.fields.LIST[1])}.len() as i32 - 1) as usize`:"("+e.INDEX.i32()+" - 1) as usize";return e.compiler+=`let removein = ${r};\n`,e.compiler+="if removein != usize::MAX {\n",e.compiler+=`if removein < ${getlist(t,e.scope.block.fields.LIST[1])}.len() {\n${getlist(t,e.scope.block.fields.LIST[1])}.remove(removein);\n}\n`,e.compiler+="}\n",rscStorage?.project?.UnuseTokio&&(selfmut=!0),e.compiler},data_insertatlist(e){var t=Cast.keywordunParse(e.scope.block.fields.LIST[0]);return e.compiler+=`let insertin = ${e.ITEM.Stri()};\n`,e.compiler+=`let insertin2 = ${'"last"'==e.INDEX.input?`(${getlist(t,e.scope.block.fields.LIST[1])}.len() as i32 - 1) as usize`:"("+e.INDEX.i32()+" - 1) as usize"};\n`,e.compiler+="if insertin2 != usize::MAX {\n",e.compiler+=getlist(t,e.scope.block.fields.LIST[1])+".insert(insertin2,insertin);\n",e.compiler+="}\n",rscStorage?.project?.UnuseTokio&&(selfmut=!0),e.compiler},data_replaceitemoflist(e){var t=Cast.keywordunParse(e.scope.block.fields.LIST[0]);return e.compiler+=`let getin = ${'"last"'==e.INDEX?`(${getlist(t,e.scope.block.fields.LIST[1])}.len() as i32 - 1) as usize`:"("+e.INDEX.i32()+" - 1) as usize"};\n`,e.compiler+=`let itemin = ${e.ITEM.Str()};\n`,e.compiler+="if getin != usize::MAX {\n",e.compiler+=`if let Some(item) = ${getlist(t,e.scope.block.fields.LIST[1])}.get_mut(getin) {\n`,e.compiler+="*item = itemin.to_owned();\n",e.compiler+="};\n",e.compiler+="};\n",rscStorage?.project?.UnuseTokio&&(selfmut=!0),e.compiler},control_stop(e){switch(e.scope.block.fields.STOP_OPTION[0]){case"all":case"other scripts in sprite":return Tools.setlibrary(["use std::process;"]),e.compiler+="process::exit(0);\n",e.compiler;case"this script":return e.compiler+="return;\n",e.compiler}return e.compiler},control_run_as_sprite:e=>(e.compiler+=Cast.Safe(e.SUBSTACK),e.compiler),event_broadcast(e){if(broadcastfuncs.hasOwnProperty(e.BROADCAST_INPUT)){var t=broadcastfuncs[e.BROADCAST_INPUT];let r="";t.map((e=>{r+="tokio::spawn(async move {\n"+e+"});\n"})),e.compiler+=r}return e.compiler},event_broadcastandwait(e){if(broadcastfuncs.hasOwnProperty(e.BROADCAST_INPUT)){var t=broadcastfuncs[e.BROADCAST_INPUT];let r=[];t.map((e=>{r.push("tokio::spawn(async move {\n"+e+"})\n")})),e.compiler+=`tokio::try_join!(${r.join(",")}).unwrap();`}return e.compiler},async event_whenbroadcastreceived(e){var t,r=e.scope.block;return e.scope.block.next&&(t=await compile_this(e.scope.target.blocks[e.scope.block.next],e.scope.target),broadcastfuncs.hasOwnProperty(Cast.unParse(r.fields.BROADCAST_OPTION[0]))?broadcastfuncs[Cast.unParse(r.fields.BROADCAST_OPTION[0])].push(t):broadcastfuncs[Cast.unParse(r.fields.BROADCAST_OPTION[0])]=[t]),e.compiler},async event_whenkeypressed(e){presscount++;var t="",r=Cast.toPress(e.scope.block.fields.KEY_OPTION[0],e.scope.block);return Tools.setlibrary(["use crossterm::event::{self, Event, KeyCode};"]),Tools.setdepend(['crossterm = "0.27.0"']),e.scope.block.next&&(t=await compile_this(e.scope.target.blocks[e.scope.block.next],e.scope.target)),e.compiler+=`async fn press${presscount}(){\n`,e.compiler+=["loop {","if event::poll(std::time::Duration::from_millis(1)).unwrap() {","if let Event::Key(event) = event::read().unwrap() {","match event.code {",`KeyCode::${r} => {`,t+"},","_ => (),","},","},","},","},","}\n"].join("\n"),Tools.setmain([`tokio::spawn(press${presscount}());`]),out+=e.compiler,e.compiler},rsc_outcompiler:e=>(e.compiler+=e.scope.block.fields.HEADER[0],e.compiler),rsc_outcompilerr:e=>(e.compiler+=e.scope.block.fields.HEADER[0],e.compiler),rsc_outcompileb:e=>(e.compiler+=e.scope.block.fields.HEADER[0],e.compiler),rsc_cloneandwait(e){var t="";let r=[];if("_myself_"==e.CLONE_OPTION)r=clones[targetID];else{const t=e.CLONE_OPTION;let n=-1;jsonData.targets.forEach(((e,r)=>{e.name===t&&(n=r)})),r=clones[n]}return r&&r.forEach((function(e){t+=e+"().await;\n"})),e.compiler+=t,e.compiler},rsc_import:isLocal?async e=>{async function t(e){try{var t=new JSZip,r=(await t.loadAsync(e),await t.file("project.json").async("string"));if(r)return JSON.parse(r);throw new Error("不是有效的Scratch项目文件")}catch(e){throw e}}function r(e,t){var r=new XMLHttpRequest;if(r.open("GET",e,!1),r.responseType=t,r.send(null),200===r.status)return r.responseText;throw console.log(r),new Error("获取远程组件失败")}async function n(e,n,s){var i=function(e){if(e.startsWith("./"))return e.slice(2,e.length).replace("/","::");if(e.startsWith(".")||e.endsWith("/")||e.endsWith(".sb3")||e.endsWith(".rs")||e.endsWith(".json")||e.endsWith(".js"))throw new Error("引入地址错误");let t=e.substring(0,e.indexOf("/")),r=(t="super::".repeat(t.split(".").length-2),e.substring(e.indexOf("/")+1));return r=r.replace("/","::"),e=t+r,Tools.setreq([e.slice(7,e.length)]),e}(e),o=e+n,{deplist:e,globalextrablocks:s,reqlist:n}=(Tools.setlibrary([`mod ${i};`]),Tools.setlibrary([`use ${i}::Default as md_${Cast.keywordunParse(e)};`]),i="local"==s?".sb3"==n?await t(fs.readFileSync(o)):fs.readFileSync(o,"utf-8"):".sb3"==n?await t(r(o,"arraybuffer")):r(o,"text"),(new rsc).compile(i,folderPath,path.parse(o).name,iflog));let a=[];n.forEach((e=>{e.startsWith("super::")&&a.push(e.slice(7,e.length))})),Tools.setreq(a),Tools.setlibrary(n),Tools.setextrablockcompile(s),Tools.setdepend(e)}function s(e,t){var n={COMMAND:"m",CONDITIONAL:"m",LOOP:"m",HAT:"m",REPORTER:"r",BOOLEAN:"r",LABEL:"u",XML:"u",BUTTON:"u"},s={register:e=>{var t,r;e.blocks&&e.id&&e.getInfo&&(e.blocks&&e.id||(({id:t,blocks:r}=e.getInfo()),e={...e,id:t,blocks:r}),e.blocks.forEach((t=>{if("u"!=t.blockType){var r=e[t.opcode],n=e.id+"_"+t.opcode,s=t.blockType,i=t.blockStart;switch(extrablocks.push(n),t.isOperator&&operatorlist.push(n),s){case"m":compiles[n]=r;break;case"r":inputscompiles[n]=r,inputlist.push(n)}i&&compileEvents.push(n)}})))}};t=new Function("local"==t?fs.readFileSync(e+".js").toString():r(e,"text")),e=e=>{throw new Error(e)},rscStorage?.config?.AllowThis?t.call({rsc:this,fs,JSZip,path,TypeInput,Cast,Tools,compile_this,BlockType:n,extensions:s,isCompiler:!0,ThrowError:e}):t.call({JSZip,path,TypeInput,Cast,Tools,compile_this,BlockType:n,extensions:s,isCompiler:!0,ThrowError:e})}return async function(e){e.startsWith(".")?fs.existsSync(e+".json")?await n(e,".json","local"):fs.existsSync(e+".sb3")?await n(e,".sb3","local"):fs.existsSync(e+".js")&&s(e,"local"):(e.startsWith("https://")||e.startsWith("http://"))&&(e.endsWith(".json")||e.endsWith(".sb3")?await n(e,"web"):e.endsWith(".js")&&s(e,"web"))}(e.scope.block.fields.HEADER[0]),e.compiler}:async()=>{var e=args.scope.block.fields.HEADER[0];function t(e,t){var r=new XMLHttpRequest;if(r.open("GET",e,!1),r.responseType=t,r.send(null),200===r.status)return r.responseText;throw console.log(r),new Error("获取远程组件失败")}async function r(e,r){var n=function(e){if(e.startsWith("./"))return e.slice(2,e.length).replace("/","::");if(e.startsWith(".")||e.endsWith("/")||e.endsWith(".sb3")||e.endsWith(".rs")||e.endsWith(".json")||e.endsWith(".js"))throw new Error("引入地址错误");let t=e.substring(0,e.indexOf("/")),r=(t="super::".repeat(t.split(".").length-2),e.substring(e.indexOf("/")+1));return r=r.replace("/","::"),e=t+r,Tools.setreq([e.slice(7,e.length)]),e}(e),s=e+r,{deplist:e,globalextrablocks:r,reqlist:n}=(Tools.setlibrary([`mod ${n};`]),Tools.setlibrary([`use ${n}::Default as md_${Cast.keywordunParse(e)};`]),n=".sb3"==r?await async function(e){try{var t=new JSZip,r=(await t.loadAsync(e),await t.file("project.json").async("string"));if(r)return JSON.parse(r);throw new Error("不是有效的Scratch项目文件")}catch(e){throw e}}(t(s,"arraybuffer")):t(s,"text"),(new rsc).compile(n,folderPath,path.parse(s).name,iflog));let i=[];n.forEach((e=>{e.startsWith("super::")&&i.push(e.slice(7,e.length))})),Tools.setreq(i),Tools.setlibrary(n),Tools.setextrablockcompile(r),Tools.setdepend(e)}return(e.startsWith("https://")||e.startsWith("http://"))&&(e.endsWith(".json")?await r(e,".json"):e.endsWith(".sb3")?await r(e,".sb3"):e.endsWith(".js")&&function(e){var r={COMMAND:"m",CONDITIONAL:"m",LOOP:"m",HAT:"m",REPORTER:"r",BOOLEAN:"r",LABEL:"u",XML:"u",BUTTON:"u"},n={register:e=>{var t,r;e.blocks&&e.id&&e.getInfo&&(e.blocks&&e.id||(({id:t,blocks:r}=e.getInfo()),e={...e,id:t,blocks:r}),e.blocks.forEach((t=>{if("u"!=t.blockType){var r=e[t.opcode],n=e.id+"_"+t.opcode,s=t.blockType,i=t.blockStart;switch(extrablocks.push(n),t.isOperator&&operatorlist.push(n),s){case"m":compiles[n]=r;break;case"r":inputscompiles[n]=r,inputlist.push(n)}i&&compileEvents.push(n)}})))}},s=(e=new Function(t(e,"text")),e=>{throw new Error(e)});rscStorage?.config?.AllowThis?e.call({rsc:this,fs,JSZip,path,TypeInput,Cast,Tools,compile_this,BlockType:r,extensions:n,isCompiler:!0,ThrowError:s}):e.call({JSZip,path,TypeInput,Cast,Tools,compile_this,BlockType:r,extensions:n,isCompiler:!0,ThrowError:s})}(e)),args.compiler},rsc_func:e=>(rscfunc=Cast.keywordOnly(e.scope.block.fields.HEADER[0]),haverscfunc=!0,e.compiler),rsc_use(e){var t=e.scope.block.fields.from[0],r=e.scope.block.fields.hsm[0],n=Object.keys(e).filter((e=>e.startsWith("ADD"))).map((t=>e[t].Stri()));return""!=t?(t="m_"+Cast.keywordunParse(t),Tools.setstruct([[t,"md_"+Cast.keywordunParse(e.scope.block.fields.from[0]),`md_${Cast.keywordunParse(e.scope.block.fields.from[0])}::new()`]]),e.compiler+=`self.${t}.procpub${Cast.keywordOnly(r)}(${n.join(",")});\n`):e.compiler+=`self.procpub${Cast.keywordOnly(r)}(${n.join(",")});\n`,e.compiler},rsc_setmain:e=>(mainlist.push(e.SUBSTACK),e.compiler),rsc_setruntime:e=>(runtimelist.push(e.SUBSTACK),e.compiler),rsc_setinuse:e=>(inuselist.push(e.SUBSTACK),e.compiler),rsc_setdepend:e=>(Tools.setdepend([e.scope.block.fields.HEADER[0]]),e.compiler),rsc_setlibrary:e=>(Tools.setlibrary([e.scope.block.fields.HEADER[0]]),e.compiler),rsc_varcreate(e){var t=Cast.keywordunParse(e.scope.block.fields.HEADER[0]);return e.compiler+=`let mut _scopevar_${t} = String::new();\n`,e.compiler},rsc_varset(e){var t=Cast.keywordunParse(e.scope.block.fields.HEADER[0]);return e.compiler+=`_scopevar_${t} = ${e.thing.Stri()};\n`,e.compiler},rsc_ignore:e=>(ignore=!1,e.compiler),argument_command:e=>1==e.scope.block.shadow?(proctypelist.push("F"),hasCommandBlock=!0,"pm_"+Cast.keywordunParse(e.scope.block.fields.VALUE[0])):"pm_"+Cast.keywordunParse(e.scope.block.fields.VALUE[0])+"();\n"};rscStorage?.config?.RunAtCompile&&(compiles.rsc_compile=function(args){return eval(args.scope.block.fields.HEADER[0]),args.compiler}),find_vars(),find_clones();for(const e of jsonData.targets)targetID++,e.blocks&&await start_compile_from_events(e);function find_diagnosis(){var e=Object.keys(usingvars);const t=Object.values(usingvars);e.forEach(((e,r)=>{usedvars.includes(e)||(diagnosis+=`🤔 不存在${t[r]}的使用, 请手动删除此${"l"==e[0]?"列表":"变量"}\n`)}))}function getlist(e,t){return rscStorage?.project?.UnuseTokio?nogloballistids.includes(t)?isclone?(Tools.setclonevar([`let mut cl_${e} = self.l_${targetID}_${e};`]),usedvars.push(`l_${targetID}_`+e),"cl_"+e):(usedvars.push(`l_${targetID}_`+e),`self.l_${targetID}_`+e):(usedvars.push("l_"+e),"self.l_"+e):nogloballistids.includes(t)?isclone?(Tools.setclonevar([`let mut cl_${e} = self.l_${targetID}_${e}.lock().unwrap();`]),usedvars.push(`l_${targetID}_`+e),"cl_"+e):(usedvars.push(`l_${targetID}_`+e),`self.l_${targetID}_${e}.lock().unwrap()`):(usedvars.push("l_"+e),`self.l_${e}.lock().unwrap()`)}function getvar(e,t){return rscStorage?.project?.UnuseTokio?noglobalvarids.includes(t)?isclone?(Tools.setclonevar([`let mut cv_str_${e} = self.vs_${targetID}_${e};`,`let mut cv_num_${e} = *self.vf_${targetID}_${e};`]),{str:()=>(usedvars.push(`vs_${targetID}_`+e),"cv_str_"+e),num:()=>(usedvars.push(`vf_${targetID}_`+e),"cv_num_"+e)}):{str:()=>(usedvars.push(`vs_${targetID}_`+e),`self.vs_${targetID}_`+e),num:()=>(usedvars.push(`vf_${targetID}_`+e),`self.vf_${targetID}_`+e)}:{str:()=>(usedvars.push("vs_"+e),"self.vs_"+e),num:()=>(usedvars.push("vf_"+e),"self.vf_"+e)}:noglobalvarids.includes(t)?isclone?(Tools.setclonevar([`let mut cv_str_${e} = self.vs_${targetID}_${e}.lock().unwrap().clone();`,`let mut cv_num_${e} = *self.vf_${targetID}_${e}.lock().unwrap();`]),{str:()=>(usedvars.push(`vs_${targetID}_`+e),"cv_str_"+e),num:()=>(usedvars.push(`vf_${targetID}_`+e),"cv_num_"+e)}):{str:()=>(usedvars.push(`vs_${targetID}_`+e),`*self.vs_${targetID}_${e}.lock().unwrap()`),num:()=>(usedvars.push(`vf_${targetID}_`+e),`*self.vf_${targetID}_${e}.lock().unwrap()`)}:{str:()=>(usedvars.push("vs_"+e),`*self.vs_${e}.lock().unwrap()`),num:()=>(usedvars.push("vf_"+e),`*self.vf_${e}.lock().unwrap()`)}}function compile_main(){var e=(haverscfunc?"pub ":"")+`struct Default{\n${structs.map((e=>e[0]+":"+e[1])).join(",\n")}\n}\n`;if(e+=`impl Default{\n${haverscfunc?"pub ":""}fn new() -> Default{\nDefault{\n${structs.map((e=>e[0]+":"+e[2])).join(",\n")}\n}\n}\n${funcs.join("\n")}}\n`,0==flagcount)e+=`fn main(){\n${0==mainlist.length?"":mainlist.join("\n")}}`;else if(1==flagcount)rscStorage?.project?.UnuseTokio?e+=`fn main(){\nlet ${selfmut?"mut ":""}init = Default::new();\n${0==mainlist.length?"":mainlist.join("\n")}init.flag1();\n}`:(Tools.setdepend(['tokio = { version = "1", features = ["full"] }']),e+=`#[tokio::main]\nasync fn main(){\nlet ${selfmut?"mut ":""}init = Default::new();\n${0==mainlist.length?"":mainlist.join("\n")}init.flag1().await;\n}`);else if(rscStorage?.project?.UnuseTokio){e+="fn main(){\nlet init = Default::new();\n"+(0==mainlist.length?"":mainlist.join("\n"));let t=-1;starteventlist.forEach((function(r){t++,e+=`init.${r}();\n`})),e+="}"}else{Tools.setdepend(['tokio = { version = "1", features = ["full"] }']),e+="#[tokio::main]\nasync fn main(){\nlet init = Default::new();\n"+(0==mainlist.length?"":mainlist.join("\n"));let r=[],n=-1;starteventlist.forEach((function(e){n++,r.push("init."+e+"()")}));var t=r.join(",");e+=`tokio::join!(${t});\n}`}return e}function find_vars(){jsonData.targets.forEach(((e,t)=>{var r=t,n=jsonData.targets[r].variables,s=jsonData.targets[r].lists;if("{}"!=JSON.stringify(n)||"{}"!=JSON.stringify(s))if(rscStorage?.project?.UnuseTokio){for(const e in n){var i=n[e][0],o=Cast.keywordunParse(i),a=n[e][1];(0==r?("number"==typeof a?structs.push(["vf_"+o,"f64",Cast.toNum(a)]):structs.push(["vf_"+o,"f64","0.0"]),structs.push(["vs_"+o,"String",`(${Cast.unParse(a)}).to_string()`]),usingvars["vf_"+o]=i,usingvars["vs_"+o]=i,globalvarlist):("number"==typeof a?structs.push(["vf_"+r+"_"+o,"f64",Cast.toNum(a)]):structs.push(["vf_"+r+"_"+o,"f64","0.0"]),structs.push(["vs_"+r+"_"+o,"String",`(${Cast.unParse(a)}).to_string()`]),usingvars["vf_"+r+"_"+o]=i,usingvars["vs_"+r+"_"+o]=i,noglobalvarids.push(e),noglobalvarlist)).push(o)}var l=[];for(const e in s){var c=s[e][0],u=Cast.keywordunParse(c),h=s[e][1],f=[];for(const e in h)f.push(Cast.toStr(Cast.unParse(h[e])));0==r?(structs.push(["l_"+u,"Vec<String>",0!=f.length?`[${f.join(",")}].iter().map(|s| s.to_string()).collect()`:"vec![]"]),usingvars["l_"+u]=c):(structs.push(["l_"+r+"_"+u,"Vec<String>",0!=f.length?`[${f.join(",")}].iter().map(|s| s.to_string()).collect()`:"vec![]"]),usingvars["l_"+r+"_"+u]=c,nogloballistids.push(e),noglobalvarlist.push(u))}0!=l.length&&Tools.setmain([l.join("\n")])}else{Tools.setlibrary(["use std::sync::Mutex;"]);for(const e in n){var p=n[e][0],d=Cast.keywordunParse(p),_=n[e][1];(0==r?("number"==typeof _?structs.push(["vf_"+d,"Mutex<f64>",`Mutex::new(${Cast.toNum(_)})`]):structs.push(["vf_"+d,"Mutex<f64>","Mutex::new(0.0)"]),structs.push(["vs_"+d,"Mutex<String>",`Mutex::new((${Cast.unParse(_)}).to_string())`]),usingvars["vf_"+d]=p,usingvars["vs_"+d]=p,globalvarlist):("number"==typeof _?structs.push(["vf_"+r+"_"+d,"Mutex<f64>",`Mutex::new(${Cast.toNum(_)})`]):structs.push(["vf_"+r+"_"+d,"Mutex<f64>","Mutex::new(0.0)"]),structs.push(["vs_"+r+"_"+d,"Mutex<String>",`Mutex::new((${Cast.unParse(_)}).to_string())`]),usingvars["vf_"+r+"_"+d]=p,usingvars["vs_"+r+"_"+d]=p,noglobalvarids.push(e),noglobalvarlist)).push(d)}l=[];for(const e in s){var m=s[e][0],g=Cast.keywordunParse(m),b=s[e][1],v=[];for(const e in b)v.push(Cast.toStr(Cast.unParse(b[e])));0==r?(structs.push(["l_"+g,"Mutex<Vec<String>>",`Mutex::new(${0!=v.length?`[${v.join(",")}].iter().map(|s| s.to_string()).collect()`:"vec![]"})`]),usingvars["l_"+g]=m):(structs.push(["l_"+r+"_"+g,"Mutex<Vec<String>>",`Mutex::new(${0!=v.length?`[${v.join(",")}].iter().map(|s| s.to_string()).collect()`:"vec![]"})`]),usingvars["l_"+r+"_"+g]=m,nogloballistids.push(e),noglobalvarlist.push(g))}0!=l.length&&Tools.setmain([l.join("\n")])}}))}async function compile_input(e,t){var r,n=e.inputs,s={};for(r in n)if(n.hasOwnProperty(r))if("object"==typeof n[r][1])n[r][1]?(i=n[r][1][1],3==n[r][1].length?11==n[r][1][0]?s[r]=new TypeInput.Str(Cast.unParse(i)):(a=Cast.keywordunParse(i),s[r]=new TypeInput.Var(a)):Cast.NumTest(Cast.unParse(i))?s[r]=new TypeInput.Num(Cast.toNum(i)):s[r]=new TypeInput.Str(Cast.unParse(i))):s[r]="CONDITION"==r?"false":"";else if("string"==typeof n[r][1]){var i,o,a=t.blocks[n[r][1]];if("procedures_call"==a.opcode)if(a.mutation.return){const e=await compile_input(a,t);s[r]=e}else{const e=await compile_this(a,t);s[r]=e}else if(inputlist.includes(a.opcode))o=operatorlist.includes(a.opcode)&&!operatorlist.includes(e.opcode)?("object"==typeof(i=await compile_input(a,t))&&i.hasOwnProperty("input")&&(i.input=Cast.replaceParentheses(i.input)),i):await compile_input(a,t),s[r]=o;else{const e=await compile_this(a,t);s[r]=e}}return"procedures_call"==e.opcode?e.mutation.return?(s.scope={block:e,target:t},inputscompiles[e.opcode](s)):s:inputscompiles.hasOwnProperty(e.opcode)?(s.scope={block:e,target:t},inputscompiles[e.opcode](s)):s}async function compile(e,t){var r="";if(!e)return"";if("rsc_ignore"==e.opcode&&(ignore=!0),"{}"!=JSON.stringify(e.inputs)){switch(e.opcode){case"procedures_definition":proctypelist=[];break;case"rsc_funcargin":rscfuncargs=[]}var n=await compile_input(e,t)}else n={};return compiles.hasOwnProperty(e.opcode)?(n.scope={block:e,target:t},n.compiler=r,r=await compiles[e.opcode](n)):(console.log(n),ignore||console.warn("[33m未知的块[m: "+e.opcode)),r}async function compile_this(e,t){for(var r="";r+=await compile(e,t),null!=e.next&&!compileEvents.includes(e.opcode);)e=t.blocks[e.next];return r}async function start_compile_from_events(e){if(e.blocks&&"object"==typeof e.blocks){for(const r of compileEvents)for(const n in e.blocks){var t=e.blocks[n];t.opcode===r&&await compile_this(t,e)}await compile_clones(e)}}function find_clones(){var e=targetID;targetID=-1,jsonData.targets.forEach((e=>{if(targetID++,e.blocks&&e.blocks&&"object"==typeof e.blocks)for(var t in e.blocks)"control_start_as_clone"==e.blocks[t].opcode&&(clonecount++,clones.hasOwnProperty(targetID)||(clones[targetID]=[]),clones[targetID].push(`_${targetID}_clone`+clonecount))})),targetID=e,clonecount=0}async function compile_clones(e){if(e.blocks&&"object"==typeof e.blocks)for(var t in e.blocks)"control_start_as_clone"==(t=e.blocks[t]).opcode&&(isclone=!0,await compile_this(t,e),isclone=!1)}function createDirectory(e){fs.existsSync(e)||fs.mkdirSync(e,{recursive:!0})}return out+=compile_main(),0!=runtimelist.length&&(out=runtimelist.join("\n")+"\n"+out),0!=uselist.length&&(out=uselist.join("\n")+"\n"+out),find_diagnosis(),isLocal&&(createDirectory(folderPath),out=`// By r-Scratch-Compiler ${(new Date).toISOString()} 🍥 v${(new rsc).version()}-${(new rsc).compilertype()}\n`+out,fs.writeFile(path.join(folderPath,fileName+".rs"),out,(e=>{e&&console.error("无法写入文件：",e)}))),iflog&&console.log(out),diagnosis&&console.log(diagnosis),{deplist,globalextrablocks,out,reqlist}}}isLocal||(window.rsc=rsc),module.exports=rsc},968:e=>{"use strict";e.exports=fs},944:e=>{"use strict";e.exports=path},301:e=>{"use strict";e.exports=xmlhttprequest}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];return void 0!==t||(t=__webpack_module_cache__[e]={exports:{}},__webpack_modules__[e](t,t.exports,__webpack_require__)),t.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var __webpack_exports__=__webpack_require__(972)})();